"use strict";var Zt=Object.create;var X=Object.defineProperty;var er=Object.getOwnPropertyDescriptor;var tr=Object.getOwnPropertyNames;var rr=Object.getPrototypeOf,ar=Object.prototype.hasOwnProperty;var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),sr=(e,t)=>{for(var r in t)X(e,r,{get:t[r],enumerable:!0})},Ae=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of tr(t))!ar.call(e,s)&&s!==r&&X(e,s,{get:()=>t[s],enumerable:!(a=er(t,s))||a.enumerable});return e};var Ee=(e,t,r)=>(r=e!=null?Zt(rr(e)):{},Ae(t||!e||!e.__esModule?X(r,"default",{value:e,enumerable:!0}):r,e)),nr=e=>Ae(X({},"__esModule",{value:!0}),e);var Se=P(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});function K(e){let t=[...e.caches],r=t.shift();return r===void 0?Ie():{get(a,s,n={miss:()=>Promise.resolve()}){return r.get(a,s,n).catch(()=>K({caches:t}).get(a,s,n))},set(a,s){return r.set(a,s).catch(()=>K({caches:t}).set(a,s))},delete(a){return r.delete(a).catch(()=>K({caches:t}).delete(a))},clear(){return r.clear().catch(()=>K({caches:t}).clear())}}}function Ie(){return{get(e,t,r={miss:()=>Promise.resolve()}){return t().then(s=>Promise.all([s,r.miss(s)])).then(([s])=>s)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}Y.createFallbackableCache=K;Y.createNullCache=Ie});var De=P((ds,Oe)=>{Oe.exports=Se()});var we=P(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});function ir(e={serializable:!0}){let t={};return{get(r,a,s={miss:()=>Promise.resolve()}){let n=JSON.stringify(r);if(n in t)return Promise.resolve(e.serializable?JSON.parse(t[n]):t[n]);let o=a(),l=s&&s.miss||(()=>Promise.resolve());return o.then(v=>l(v)).then(()=>o)},set(r,a){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete(r){return delete t[JSON.stringify(r)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}ie.createInMemoryCache=ir});var xe=P((ms,Te)=>{Te.exports=we()});var je=P(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});function or(e,t,r){let a={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers(){return e===oe.WithinHeaders?a:{}},queryParameters(){return e===oe.WithinQueryParameters?a:{}}}}function cr(e){let t=0,r=()=>(t++,new Promise(a=>{setTimeout(()=>{a(e(r))},Math.min(100*t,1e3))}));return e(r)}function Re(e,t=(r,a)=>Promise.resolve()){return Object.assign(e,{wait(r){return Re(e.then(a=>Promise.all([t(a,r),a])).then(a=>a[1]))}})}function ur(e){let t=e.length-1;for(t;t>0;t--){let r=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[r],e[r]=a}return e}function lr(e,t){return t&&Object.keys(t).forEach(r=>{e[r]=t[r](e)}),e}function pr(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}var dr="4.12.0",hr=e=>()=>e.transporter.requester.destroy(),oe={WithinQueryParameters:0,WithinHeaders:1};R.AuthMode=oe;R.addMethods=lr;R.createAuth=or;R.createRetryablePromise=cr;R.createWaitablePromise=Re;R.destroy=hr;R.encode=pr;R.shuffle=ur;R.version=dr});var H=P((gs,Ce)=>{Ce.exports=je()});var qe=P(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});var mr={Delete:"DELETE",Get:"GET",Post:"POST",Put:"PUT"};ce.MethodEnum=mr});var W=P((ys,Me)=>{Me.exports=qe()});var Je=P(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var Ue=W();function ue(e,t){let r=e||{},a=r.data||{};return Object.keys(r).forEach(s=>{["timeout","headers","queryParameters","data","cacheable"].indexOf(s)===-1&&(a[s]=r[s])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var z={Read:1,Write:2,Any:3},U={Up:1,Down:2,Timeouted:3},Be=120*1e3;function pe(e,t=U.Up){return{...e,status:t,lastUpdate:Date.now()}}function Le(e){return e.status===U.Up||Date.now()-e.lastUpdate>Be}function _e(e){return e.status===U.Timeouted&&Date.now()-e.lastUpdate<=Be}function de(e){return typeof e=="string"?{protocol:"https",url:e,accept:z.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||z.Any}}function br(e,t){return Promise.all(t.map(r=>e.get(r,()=>Promise.resolve(pe(r))))).then(r=>{let a=r.filter(l=>Le(l)),s=r.filter(l=>_e(l)),n=[...a,...s],o=n.length>0?n.map(l=>de(l)):t;return{getTimeout(l,v){return(s.length===0&&l===0?1:s.length+3+l)*v},statelessHosts:o}})}var gr=({isTimedOut:e,status:t})=>!e&&~~t===0,vr=e=>{let t=e.status;return e.isTimedOut||gr(e)||~~(t/100)!==2&&~~(t/100)!==4},yr=({status:e})=>~~(e/100)===2,fr=(e,t)=>vr(e)?t.onRetry(e):yr(e)?t.onSuccess(e):t.onFail(e);function Ne(e,t,r,a){let s=[],n=ze(r,a),o=Fe(e,a),l=r.method,v=r.method!==Ue.MethodEnum.Get?{}:{...r.data,...a.data},k={"x-algolia-agent":e.userAgent.value,...e.queryParameters,...v,...a.queryParameters},m=0,h=(y,b)=>{let p=y.pop();if(p===void 0)throw $e(le(s));let f={data:n,headers:o,method:l,url:He(p,r.path,k),connectTimeout:b(m,e.timeouts.connect),responseTimeout:b(m,a.timeout)},I=g=>{let w={request:f,response:g,host:p,triesLeft:y.length};return s.push(w),w},A={onSuccess:g=>Ge(g),onRetry(g){let w=I(g);return g.isTimedOut&&m++,Promise.all([e.logger.info("Retryable failure",he(w)),e.hostsCache.set(p,pe(p,g.isTimedOut?U.Timeouted:U.Down))]).then(()=>h(y,b))},onFail(g){throw I(g),Ke(g,le(s))}};return e.requester.send(f).then(g=>fr(g,A))};return br(e.hostsCache,t).then(y=>h([...y.statelessHosts].reverse(),y.getTimeout))}function kr(e){let{hostsCache:t,logger:r,requester:a,requestsCache:s,responsesCache:n,timeouts:o,userAgent:l,hosts:v,queryParameters:k,headers:m}=e,h={hostsCache:t,logger:r,requester:a,requestsCache:s,responsesCache:n,timeouts:o,userAgent:l,headers:m,queryParameters:k,hosts:v.map(y=>de(y)),read(y,b){let p=ue(b,h.timeouts.read),f=()=>Ne(h,h.hosts.filter(g=>(g.accept&z.Read)!==0),y,p);if((p.cacheable!==void 0?p.cacheable:y.cacheable)!==!0)return f();let A={request:y,mappedRequestOptions:p,transporter:{queryParameters:h.queryParameters,headers:h.headers}};return h.responsesCache.get(A,()=>h.requestsCache.get(A,()=>h.requestsCache.set(A,f()).then(g=>Promise.all([h.requestsCache.delete(A),g]),g=>Promise.all([h.requestsCache.delete(A),Promise.reject(g)])).then(([g,w])=>w)),{miss:g=>h.responsesCache.set(A,g)})},write(y,b){return Ne(h,h.hosts.filter(p=>(p.accept&z.Write)!==0),y,ue(b,h.timeouts.write))}};return h}function Pr(e){let t={value:`Algolia for JavaScript (${e})`,add(r){let a=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return t.value.indexOf(a)===-1&&(t.value=`${t.value}${a}`),t}};return t}function Ge(e){try{return JSON.parse(e.content)}catch(t){throw Qe(t.message,e)}}function Ke({content:e,status:t},r){let a=e;try{a=JSON.parse(e).message}catch{}return Ve(a,t,r)}function Ar(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}function He(e,t,r){let a=We(r),s=`${e.protocol}://${e.url}/${t.charAt(0)==="/"?t.substr(1):t}`;return a.length&&(s+=`?${a}`),s}function We(e){let t=r=>Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]";return Object.keys(e).map(r=>Ar("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])).join("&")}function ze(e,t){if(e.method===Ue.MethodEnum.Get||e.data===void 0&&t.data===void 0)return;let r=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(r)}function Fe(e,t){let r={...e.headers,...t.headers},a={};return Object.keys(r).forEach(s=>{let n=r[s];a[s.toLowerCase()]=n}),a}function le(e){return e.map(t=>he(t))}function he(e){let t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function Ve(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}function Qe(e,t){return{name:"DeserializationError",message:e,response:t}}function $e(e){return{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:e}}E.CallEnum=z;E.HostStatusEnum=U;E.createApiError=Ve;E.createDeserializationError=Qe;E.createMappedRequestOptions=ue;E.createRetryError=$e;E.createStatefulHost=pe;E.createStatelessHost=de;E.createTransporter=kr;E.createUserAgent=Pr;E.deserializeFailure=Ke;E.deserializeSuccess=Ge;E.isStatefulHostTimeouted=_e;E.isStatefulHostUp=Le;E.serializeData=ze;E.serializeHeaders=Fe;E.serializeQueryParameters=We;E.serializeUrl=He;E.stackFrameWithoutCredentials=he;E.stackTraceWithoutCredentials=le});var F=P((ks,Xe)=>{Xe.exports=Je()});var Ye=P(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});var B=H(),Er=F(),V=W(),Ir=e=>{let t=e.region||"us",r=B.createAuth(B.AuthMode.WithinHeaders,e.appId,e.apiKey),a=Er.createTransporter({hosts:[{url:`analytics.${t}.algolia.com`}],...e,headers:{...r.headers(),"content-type":"application/json",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}}),s=e.appId;return B.addMethods({appId:s,transporter:a},e.methods)},Sr=e=>(t,r)=>e.transporter.write({method:V.MethodEnum.Post,path:"2/abtests",data:t},r),Or=e=>(t,r)=>e.transporter.write({method:V.MethodEnum.Delete,path:B.encode("2/abtests/%s",t)},r),Dr=e=>(t,r)=>e.transporter.read({method:V.MethodEnum.Get,path:B.encode("2/abtests/%s",t)},r),wr=e=>t=>e.transporter.read({method:V.MethodEnum.Get,path:"2/abtests"},t),Tr=e=>(t,r)=>e.transporter.write({method:V.MethodEnum.Post,path:B.encode("2/abtests/%s/stop",t)},r);C.addABTest=Sr;C.createAnalyticsClient=Ir;C.deleteABTest=Or;C.getABTest=Dr;C.getABTests=wr;C.stopABTest=Tr});var et=P((As,Ze)=>{Ze.exports=Ye()});var rt=P(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var me=H(),xr=F(),tt=W(),Rr=e=>{let t=e.region||"us",r=me.createAuth(me.AuthMode.WithinHeaders,e.appId,e.apiKey),a=xr.createTransporter({hosts:[{url:`personalization.${t}.algolia.com`}],...e,headers:{...r.headers(),"content-type":"application/json",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}});return me.addMethods({appId:e.appId,transporter:a},e.methods)},jr=e=>t=>e.transporter.read({method:tt.MethodEnum.Get,path:"1/strategies/personalization"},t),Cr=e=>(t,r)=>e.transporter.write({method:tt.MethodEnum.Post,path:"1/strategies/personalization",data:t},r);Q.createPersonalizationClient=Rr;Q.getPersonalizationStrategy=jr;Q.setPersonalizationStrategy=Cr});var st=P((Is,at)=>{at.exports=rt()});var yt=P(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=H(),D=F(),d=W(),qr=require("crypto");function Z(e){let t=r=>e.request(r).then(a=>{if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?t({cursor:a.cursor}):t({page:(r.page||0)+1})});return t({})}var Mr=e=>{let t=e.appId,r=u.createAuth(e.authMode!==void 0?e.authMode:u.AuthMode.WithinHeaders,t,e.apiKey),a=D.createTransporter({hosts:[{url:`${t}-dsn.algolia.net`,accept:D.CallEnum.Read},{url:`${t}.algolia.net`,accept:D.CallEnum.Write}].concat(u.shuffle([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}])),...e,headers:{...r.headers(),"content-type":"application/x-www-form-urlencoded",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}}),s={transporter:a,appId:t,addAlgoliaAgent(n,o){a.userAgent.add({segment:n,version:o})},clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})}};return u.addMethods(s,e.methods)};function nt(){return{name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}}function it(){return{name:"ObjectNotFoundError",message:"Object not found."}}function ot(){return{name:"ValidUntilNotFoundError",message:"ValidUntil not found in given secured api key."}}var Nr=e=>(t,r)=>{let{queryParameters:a,...s}=r||{},n={acl:t,...a!==void 0?{queryParameters:a}:{}},o=(l,v)=>u.createRetryablePromise(k=>$(e)(l.key,v).catch(m=>{if(m.status!==404)throw m;return k()}));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:"1/keys",data:n},s),o)},Ur=e=>(t,r,a)=>{let s=D.createMappedRequestOptions(a);return s.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:d.MethodEnum.Post,path:"1/clusters/mapping",data:{cluster:r}},s)},Br=e=>(t,r,a)=>e.transporter.write({method:d.MethodEnum.Post,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},a),Lr=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(a,s)=>L(e)(a.taskID,s)),ee=e=>(t,r,a)=>{let s=(n,o)=>J(e)(t,{methods:{waitTask:S}}).waitTask(n.taskID,o);return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},a),s)},_r=e=>(t,r,a)=>ee(e)(t,r,{...a,scope:[re.Rules]}),Gr=e=>(t,r,a)=>ee(e)(t,r,{...a,scope:[re.Settings]}),Kr=e=>(t,r,a)=>ee(e)(t,r,{...a,scope:[re.Synonyms]}),Hr=e=>(t,r)=>t.method===d.MethodEnum.Get?e.transporter.read(t,r):e.transporter.write(t,r),Wr=e=>(t,r)=>{let a=(s,n)=>u.createRetryablePromise(o=>$(e)(t,n).then(o).catch(l=>{if(l.status!==404)throw l}));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Delete,path:u.encode("1/keys/%s",t)},r),a)},zr=e=>(t,r,a)=>{let s=r.map(n=>({action:"deleteEntry",body:{objectID:n}}));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:s}},a),(n,o)=>L(e)(n.taskID,o))},Fr=()=>(e,t)=>{let r=D.serializeQueryParameters(t),a=qr.createHmac("sha256",e).update(r).digest("hex");return Buffer.from(a+r).toString("base64")},$=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/keys/%s",t)},r),ct=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/task/%s",t.toString())},r),Vr=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"/1/dictionaries/*/settings"},t),Qr=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"1/logs"},t),$r=()=>e=>{let t=Buffer.from(e,"base64").toString("ascii"),r=/validUntil=(\d+)/,a=t.match(r);if(a===null)throw ot();return parseInt(a[1],10)-Math.round(new Date().getTime()/1e3)},Jr=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"1/clusters/mapping/top"},t),Xr=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/clusters/mapping/%s",t)},r),Yr=e=>t=>{let{retrieveMappings:r,...a}=t||{};return r===!0&&(a.getClusters=!0),e.transporter.read({method:d.MethodEnum.Get,path:"1/clusters/mapping/pending"},a)},J=e=>(t,r={})=>{let a={transporter:e.transporter,appId:e.appId,indexName:t};return u.addMethods(a,r.methods)},Zr=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"1/keys"},t),ea=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"1/clusters"},t),ta=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"1/indexes"},t),ra=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:"1/clusters/mapping"},t),aa=e=>(t,r,a)=>{let s=(n,o)=>J(e)(t,{methods:{waitTask:S}}).waitTask(n.taskID,o);return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},a),s)},sa=e=>(t,r)=>{let a=(s,n)=>Promise.all(Object.keys(s.taskID).map(o=>J(e)(o,{methods:{waitTask:S}}).waitTask(s.taskID[o],n)));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:"1/indexes/*/batch",data:{requests:t}},r),a)},na=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:t}},r),ia=e=>(t,r)=>{let a=t.map(s=>({...s,params:D.serializeQueryParameters(s.params||{})}));return e.transporter.read({method:d.MethodEnum.Post,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)},oa=e=>(t,r)=>Promise.all(t.map(a=>{let{facetName:s,facetQuery:n,...o}=a.params;return J(e)(a.indexName,{methods:{searchForFacetValues:bt}}).searchForFacetValues(s,n,{...r,...o})})),ca=e=>(t,r)=>{let a=D.createMappedRequestOptions(r);return a.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:d.MethodEnum.Delete,path:"1/clusters/mapping"},a)},ua=e=>(t,r,a)=>{let s=r.map(n=>({action:"addEntry",body:n}));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:s}},a),(n,o)=>L(e)(n.taskID,o))},la=e=>(t,r)=>{let a=(s,n)=>u.createRetryablePromise(o=>$(e)(t,n).catch(l=>{if(l.status!==404)throw l;return o()}));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/keys/%s/restore",t)},r),a)},pa=e=>(t,r,a)=>{let s=r.map(n=>({action:"addEntry",body:n}));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:s}},a),(n,o)=>L(e)(n.taskID,o))},da=e=>(t,r,a)=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/search",t),data:{query:r},cacheable:!0},a),ha=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Post,path:"1/clusters/mapping/search",data:{query:t}},r),ma=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Put,path:"/1/dictionaries/*/settings",data:t},r),(a,s)=>L(e)(a.taskID,s)),ba=e=>(t,r)=>{let a=Object.assign({},r),{queryParameters:s,...n}=r||{},o=s?{queryParameters:s}:{},l=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"],v=m=>Object.keys(a).filter(h=>l.indexOf(h)!==-1).every(h=>m[h]===a[h]),k=(m,h)=>u.createRetryablePromise(y=>$(e)(t,h).then(b=>v(b)?Promise.resolve():y()));return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Put,path:u.encode("1/keys/%s",t),data:o},n),k)},L=e=>(t,r)=>u.createRetryablePromise(a=>ct(e)(t,r).then(s=>s.status!=="published"?a():void 0)),ut=e=>(t,r)=>{let a=(s,n)=>S(e)(s.taskID,n);return u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),a)},ga=e=>t=>Z({shouldStop:r=>r.cursor===void 0,...t,request:r=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/browse",e.indexName),data:r},t)}),va=e=>t=>{let r={hitsPerPage:1e3,...t};return Z({shouldStop:a=>a.hits.length<r.hitsPerPage,...r,request(a){return gt(e)("",{...r,...a}).then(s=>({...s,hits:s.hits.map(n=>(delete n._highlightResult,n))}))}})},ya=e=>t=>{let r={hitsPerPage:1e3,...t};return Z({shouldStop:a=>a.hits.length<r.hitsPerPage,...r,request(a){return vt(e)("",{...r,...a}).then(s=>({...s,hits:s.hits.map(n=>(delete n._highlightResult,n))}))}})},te=e=>(t,r,a)=>{let{batchSize:s,...n}=a||{},o={taskIDs:[],objectIDs:[]},l=(v=0)=>{let k=[],m;for(m=v;m<t.length&&(k.push(t[m]),k.length!==(s||1e3));m++);return k.length===0?Promise.resolve(o):ut(e)(k.map(h=>({action:r,body:h})),n).then(h=>(o.objectIDs=o.objectIDs.concat(h.objectIDs),o.taskIDs.push(h.taskID),m++,l(m)))};return u.createWaitablePromise(l(),(v,k)=>Promise.all(v.taskIDs.map(m=>S(e)(m,k))))},fa=e=>t=>u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/clear",e.indexName)},t),(r,a)=>S(e)(r.taskID,a)),ka=e=>t=>{let{forwardToReplicas:r,...a}=t||{},s=D.createMappedRequestOptions(a);return r&&(s.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/clear",e.indexName)},s),(n,o)=>S(e)(n.taskID,o))},Pa=e=>t=>{let{forwardToReplicas:r,...a}=t||{},s=D.createMappedRequestOptions(a);return r&&(s.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/clear",e.indexName)},s),(n,o)=>S(e)(n.taskID,o))},Aa=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(a,s)=>S(e)(a.taskID,s)),Ea=e=>t=>u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Delete,path:u.encode("1/indexes/%s",e.indexName)},t),(r,a)=>S(e)(r.taskID,a)),Ia=e=>(t,r)=>u.createWaitablePromise(lt(e)([t],r).then(a=>({taskID:a.taskIDs[0]})),(a,s)=>S(e)(a.taskID,s)),lt=e=>(t,r)=>{let a=t.map(s=>({objectID:s}));return te(e)(a,M.DeleteObject,r)},Sa=e=>(t,r)=>{let{forwardToReplicas:a,...s}=r||{},n=D.createMappedRequestOptions(s);return a&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Delete,path:u.encode("1/indexes/%s/rules/%s",e.indexName,t)},n),(o,l)=>S(e)(o.taskID,l))},Oa=e=>(t,r)=>{let{forwardToReplicas:a,...s}=r||{},n=D.createMappedRequestOptions(s);return a&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Delete,path:u.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},n),(o,l)=>S(e)(o.taskID,l))},Da=e=>t=>pt(e)(t).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),wa=e=>(t,r,a)=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},a),Ta=e=>(t,r)=>{let{query:a,paginate:s,...n}=r||{},o=0,l=()=>mt(e)(a||"",{...n,page:o}).then(v=>{for(let[k,m]of Object.entries(v.hits))if(t(m))return{object:m,position:parseInt(k,10),page:o};if(o++,s===!1||o>=v.nbPages)throw it();return l()});return l()},xa=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/indexes/%s/%s",e.indexName,t)},r),Ra=()=>(e,t)=>{for(let[r,a]of Object.entries(e.hits))if(a.objectID===t)return parseInt(r,10);return-1},ja=e=>(t,r)=>{let{attributesToRetrieve:a,...s}=r||{},n=t.map(o=>({indexName:e.indexName,objectID:o,...a?{attributesToRetrieve:a}:{}}));return e.transporter.read({method:d.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:n}},s)},Ca=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/indexes/%s/rules/%s",e.indexName,t)},r),pt=e=>t=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t),qa=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},r),dt=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Get,path:u.encode("1/indexes/%s/task/%s",e.indexName,t.toString())},r),Ma=e=>(t,r)=>u.createWaitablePromise(ht(e)([t],r).then(a=>({objectID:a.objectIDs[0],taskID:a.taskIDs[0]})),(a,s)=>S(e)(a.taskID,s)),ht=e=>(t,r)=>{let{createIfNotExists:a,...s}=r||{},n=a?M.PartialUpdateObject:M.PartialUpdateObjectNoCreate;return te(e)(t,n,s)},Na=e=>(t,r)=>{let{safe:a,autoGenerateObjectIDIfNotExist:s,batchSize:n,...o}=r||{},l=(p,f,I,A)=>u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",p),data:{operation:I,destination:f}},A),(g,w)=>S(e)(g.taskID,w)),v=Math.random().toString(36).substring(7),k=`${e.indexName}_tmp_${v}`,m=be({appId:e.appId,transporter:e.transporter,indexName:k}),h=[],y=l(e.indexName,k,"copy",{...o,scope:["settings","synonyms","rules"]});h.push(y);let b=(a?y.wait(o):y).then(()=>{let p=m(t,{...o,autoGenerateObjectIDIfNotExist:s,batchSize:n});return h.push(p),a?p.wait(o):p}).then(()=>{let p=l(k,e.indexName,"move",o);return h.push(p),a?p.wait(o):p}).then(()=>Promise.all(h)).then(([p,f,I])=>({objectIDs:f.objectIDs,taskIDs:[p.taskID,...f.taskIDs,I.taskID]}));return u.createWaitablePromise(b,(p,f)=>Promise.all(h.map(I=>I.wait(f))))},Ua=e=>(t,r)=>ge(e)(t,{...r,clearExistingRules:!0}),Ba=e=>(t,r)=>ve(e)(t,{...r,clearExistingSynonyms:!0}),La=e=>(t,r)=>u.createWaitablePromise(be(e)([t],r).then(a=>({objectID:a.objectIDs[0],taskID:a.taskIDs[0]})),(a,s)=>S(e)(a.taskID,s)),be=e=>(t,r)=>{let{autoGenerateObjectIDIfNotExist:a,...s}=r||{},n=a?M.AddObject:M.UpdateObject;if(n===M.UpdateObject){for(let o of t)if(o.objectID===void 0)return u.createWaitablePromise(Promise.reject(nt()))}return te(e)(t,n,s)},_a=e=>(t,r)=>ge(e)([t],r),ge=e=>(t,r)=>{let{forwardToReplicas:a,clearExistingRules:s,...n}=r||{},o=D.createMappedRequestOptions(n);return a&&(o.queryParameters.forwardToReplicas=1),s&&(o.queryParameters.clearExistingRules=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/batch",e.indexName),data:t},o),(l,v)=>S(e)(l.taskID,v))},Ga=e=>(t,r)=>ve(e)([t],r),ve=e=>(t,r)=>{let{forwardToReplicas:a,clearExistingSynonyms:s,replaceExistingSynonyms:n,...o}=r||{},l=D.createMappedRequestOptions(o);return a&&(l.queryParameters.forwardToReplicas=1),(n||s)&&(l.queryParameters.replaceExistingSynonyms=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/batch",e.indexName),data:t},l),(v,k)=>S(e)(v.taskID,k))},mt=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r),bt=e=>(t,r,a)=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},a),gt=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r),vt=e=>(t,r)=>e.transporter.read({method:d.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r),Ka=e=>(t,r)=>{let{forwardToReplicas:a,...s}=r||{},n=D.createMappedRequestOptions(s);return a&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:d.MethodEnum.Put,path:u.encode("1/indexes/%s/settings",e.indexName),data:t},n),(o,l)=>S(e)(o.taskID,l))},S=e=>(t,r)=>u.createRetryablePromise(a=>dt(e)(t,r).then(s=>s.status!=="published"?a():void 0)),Ha={AddObject:"addObject",Analytics:"analytics",Browser:"browse",DeleteIndex:"deleteIndex",DeleteObject:"deleteObject",EditSettings:"editSettings",ListIndexes:"listIndexes",Logs:"logs",Personalization:"personalization",Recommendation:"recommendation",Search:"search",SeeUnretrievableAttributes:"seeUnretrievableAttributes",Settings:"settings",Usage:"usage"},M={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},re={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Wa={None:"none",StopIfEnoughMatches:"stopIfEnoughMatches"},za={Synonym:"synonym",OneWaySynonym:"oneWaySynonym",AltCorrection1:"altCorrection1",AltCorrection2:"altCorrection2",Placeholder:"placeholder"};i.ApiKeyACLEnum=Ha;i.BatchActionEnum=M;i.ScopeEnum=re;i.StrategyEnum=Wa;i.SynonymEnum=za;i.addApiKey=Nr;i.assignUserID=Ur;i.assignUserIDs=Br;i.batch=ut;i.browseObjects=ga;i.browseRules=va;i.browseSynonyms=ya;i.chunkedBatch=te;i.clearDictionaryEntries=Lr;i.clearObjects=fa;i.clearRules=ka;i.clearSynonyms=Pa;i.copyIndex=ee;i.copyRules=_r;i.copySettings=Gr;i.copySynonyms=Kr;i.createBrowsablePromise=Z;i.createMissingObjectIDError=nt;i.createObjectNotFoundError=it;i.createSearchClient=Mr;i.createValidUntilNotFoundError=ot;i.customRequest=Hr;i.deleteApiKey=Wr;i.deleteBy=Aa;i.deleteDictionaryEntries=zr;i.deleteIndex=Ea;i.deleteObject=Ia;i.deleteObjects=lt;i.deleteRule=Sa;i.deleteSynonym=Oa;i.exists=Da;i.findAnswers=wa;i.findObject=Ta;i.generateSecuredApiKey=Fr;i.getApiKey=$;i.getAppTask=ct;i.getDictionarySettings=Vr;i.getLogs=Qr;i.getObject=xa;i.getObjectPosition=Ra;i.getObjects=ja;i.getRule=Ca;i.getSecuredApiKeyRemainingValidity=$r;i.getSettings=pt;i.getSynonym=qa;i.getTask=dt;i.getTopUserIDs=Jr;i.getUserID=Xr;i.hasPendingMappings=Yr;i.initIndex=J;i.listApiKeys=Zr;i.listClusters=ea;i.listIndices=ta;i.listUserIDs=ra;i.moveIndex=aa;i.multipleBatch=sa;i.multipleGetObjects=na;i.multipleQueries=ia;i.multipleSearchForFacetValues=oa;i.partialUpdateObject=Ma;i.partialUpdateObjects=ht;i.removeUserID=ca;i.replaceAllObjects=Na;i.replaceAllRules=Ua;i.replaceAllSynonyms=Ba;i.replaceDictionaryEntries=ua;i.restoreApiKey=la;i.saveDictionaryEntries=pa;i.saveObject=La;i.saveObjects=be;i.saveRule=_a;i.saveRules=ge;i.saveSynonym=Ga;i.saveSynonyms=ve;i.search=mt;i.searchDictionaryEntries=da;i.searchForFacetValues=bt;i.searchRules=gt;i.searchSynonyms=vt;i.searchUserIDs=ha;i.setDictionarySettings=ma;i.setSettings=Ka;i.updateApiKey=ba;i.waitAppTask=L;i.waitTask=S});var kt=P((Os,ft)=>{ft.exports=yt()});var Pt=P(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});function Fa(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var Va={Debug:1,Info:2,Error:3};ae.LogLevelEnum=Va;ae.createNullLogger=Fa});var Et=P((ws,At)=>{At.exports=Pt()});var Dt=P(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});var It=require("http"),St=require("https"),Qa=require("url"),Ot={keepAlive:!0},$a=new It.Agent(Ot),Ja=new St.Agent(Ot);function Xa({agent:e,httpAgent:t,httpsAgent:r,requesterOptions:a={}}={}){let s=t||e||$a,n=r||e||Ja;return{send(o){return new Promise(l=>{let v=Qa.parse(o.url),k=v.query===null?v.pathname:`${v.pathname}?${v.query}`,m={...a,agent:v.protocol==="https:"?n:s,hostname:v.hostname,path:k,method:o.method,headers:{...a&&a.headers?a.headers:{},...o.headers},...v.port!==void 0?{port:v.port||""}:{}},h=(v.protocol==="https:"?St:It).request(m,f=>{let I=[];f.on("data",A=>{I=I.concat(A)}),f.on("end",()=>{clearTimeout(b),clearTimeout(p),l({status:f.statusCode||0,content:Buffer.concat(I).toString(),isTimedOut:!1})})}),y=(f,I)=>setTimeout(()=>{h.abort(),l({status:0,content:I,isTimedOut:!0})},f*1e3),b=y(o.connectTimeout,"Connection timeout"),p;h.on("error",f=>{clearTimeout(b),clearTimeout(p),l({status:0,content:f.message,isTimedOut:!1})}),h.once("response",()=>{clearTimeout(b),p=y(o.responseTimeout,"Socket timeout")}),o.data!==void 0&&h.write(o.data),h.end()})},destroy(){return s.destroy(),n.destroy(),Promise.resolve()}}}ye.createNodeHttpRequester=Xa});var Tt=P((xs,wt)=>{wt.exports=Dt()});var Ct=P((Rs,jt)=>{"use strict";var xt=De(),Ya=xe(),_=et(),ke=H(),fe=st(),c=kt(),Za=Et(),es=Tt(),ts=F();function Rt(e,t,r){let a={appId:e,apiKey:t,timeouts:{connect:2,read:5,write:30},requester:es.createNodeHttpRequester(),logger:Za.createNullLogger(),responsesCache:xt.createNullCache(),requestsCache:xt.createNullCache(),hostsCache:Ya.createInMemoryCache(),userAgent:ts.createUserAgent(ke.version).add({segment:"Node.js",version:process.versions.node})},s={...a,...r},n=()=>o=>fe.createPersonalizationClient({...a,...o,methods:{getPersonalizationStrategy:fe.getPersonalizationStrategy,setPersonalizationStrategy:fe.setPersonalizationStrategy}});return c.createSearchClient({...s,methods:{search:c.multipleQueries,searchForFacetValues:c.multipleSearchForFacetValues,multipleBatch:c.multipleBatch,multipleGetObjects:c.multipleGetObjects,multipleQueries:c.multipleQueries,copyIndex:c.copyIndex,copySettings:c.copySettings,copyRules:c.copyRules,copySynonyms:c.copySynonyms,moveIndex:c.moveIndex,listIndices:c.listIndices,getLogs:c.getLogs,listClusters:c.listClusters,multipleSearchForFacetValues:c.multipleSearchForFacetValues,getApiKey:c.getApiKey,addApiKey:c.addApiKey,listApiKeys:c.listApiKeys,updateApiKey:c.updateApiKey,deleteApiKey:c.deleteApiKey,restoreApiKey:c.restoreApiKey,assignUserID:c.assignUserID,assignUserIDs:c.assignUserIDs,getUserID:c.getUserID,searchUserIDs:c.searchUserIDs,listUserIDs:c.listUserIDs,getTopUserIDs:c.getTopUserIDs,removeUserID:c.removeUserID,hasPendingMappings:c.hasPendingMappings,generateSecuredApiKey:c.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:c.getSecuredApiKeyRemainingValidity,destroy:ke.destroy,clearDictionaryEntries:c.clearDictionaryEntries,deleteDictionaryEntries:c.deleteDictionaryEntries,getDictionarySettings:c.getDictionarySettings,getAppTask:c.getAppTask,replaceDictionaryEntries:c.replaceDictionaryEntries,saveDictionaryEntries:c.saveDictionaryEntries,searchDictionaryEntries:c.searchDictionaryEntries,setDictionarySettings:c.setDictionarySettings,waitAppTask:c.waitAppTask,customRequest:c.customRequest,initIndex:o=>l=>c.initIndex(o)(l,{methods:{batch:c.batch,delete:c.deleteIndex,findAnswers:c.findAnswers,getObject:c.getObject,getObjects:c.getObjects,saveObject:c.saveObject,saveObjects:c.saveObjects,search:c.search,searchForFacetValues:c.searchForFacetValues,waitTask:c.waitTask,setSettings:c.setSettings,getSettings:c.getSettings,partialUpdateObject:c.partialUpdateObject,partialUpdateObjects:c.partialUpdateObjects,deleteObject:c.deleteObject,deleteObjects:c.deleteObjects,deleteBy:c.deleteBy,clearObjects:c.clearObjects,browseObjects:c.browseObjects,getObjectPosition:c.getObjectPosition,findObject:c.findObject,exists:c.exists,saveSynonym:c.saveSynonym,saveSynonyms:c.saveSynonyms,getSynonym:c.getSynonym,searchSynonyms:c.searchSynonyms,browseSynonyms:c.browseSynonyms,deleteSynonym:c.deleteSynonym,clearSynonyms:c.clearSynonyms,replaceAllObjects:c.replaceAllObjects,replaceAllSynonyms:c.replaceAllSynonyms,searchRules:c.searchRules,getRule:c.getRule,deleteRule:c.deleteRule,saveRule:c.saveRule,saveRules:c.saveRules,replaceAllRules:c.replaceAllRules,browseRules:c.browseRules,clearRules:c.clearRules}}),initAnalytics:()=>o=>_.createAnalyticsClient({...a,...o,methods:{addABTest:_.addABTest,getABTest:_.getABTest,getABTests:_.getABTests,stopABTest:_.stopABTest,deleteABTest:_.deleteABTest}}),initPersonalization:n,initRecommendation:()=>o=>(s.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),n()(o))}})}Rt.version=ke.version;jt.exports=Rt});var Mt=P((js,Pe)=>{var qt=Ct();Pe.exports=qt;Pe.exports.default=qt});var Ut=P((Cs,Nt)=>{Nt.exports=Mt()});var Lt=P((Bt,se)=>{"use strict";(function(e){if(typeof t!="function"){var t=function(b){return b};t.nonNative=!0}let r=t("plaintext"),a=t("html"),s=t("comment"),n=/<(\w*)>/g,o=/<\/?([^\s\/>]+)/;function l(b,p,f){b=b||"",p=p||[],f=f||"";let I=k(p,f);return m(b,I)}function v(b,p){b=b||[],p=p||"";let f=k(b,p);return function(A){return m(A||"",f)}}l.init_streaming_mode=v;function k(b,p){return b=h(b),{allowable_tags:b,tag_replacement:p,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function m(b,p){if(typeof b!="string")throw new TypeError("'html' parameter must be a string");let f=p.allowable_tags,I=p.tag_replacement,A=p.state,g=p.tag_buffer,w=p.depth,j=p.in_quote_char,G="";for(let ne=0,Yt=b.length;ne<Yt;ne++){let T=b[ne];if(A===r)switch(T){case"<":A=a,g+=T;break;default:G+=T;break}else if(A===a)switch(T){case"<":if(j)break;w++;break;case">":if(j)break;if(w){w--;break}j="",A=r,g+=">",f.has(y(g))?G+=g:G+=I,g="";break;case'"':case"'":T===j?j="":j=j||T,g+=T;break;case"-":g==="<!-"&&(A=s),g+=T;break;case" ":case`
`:if(g==="<"){A=r,G+="< ",g="";break}g+=T;break;default:g+=T;break}else if(A===s)switch(T){case">":g.slice(-2)=="--"&&(A=r),g="";break;default:g+=T;break}}return p.state=A,p.tag_buffer=g,p.depth=w,p.in_quote_char=j,G}function h(b){let p=new Set;if(typeof b=="string"){let f;for(;f=n.exec(b);)p.add(f[1])}else!t.nonNative&&typeof b[t.iterator]=="function"?p=new Set(b):typeof b.forEach=="function"&&b.forEach(p.add,p);return p}function y(b){let p=o.exec(b);return p?p[1].toLowerCase():null}typeof define=="function"&&define.amd?define(function(){return l}):typeof se=="object"&&se.exports?se.exports=l:e.striptags=l})(Bt)});var Wt=P((Ns,rs)=>{rs.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-backup/v3/introduction"},{title:"Postcardware",url:"https://spatie.be/docs/laravel-backup/v3/postcardware"},{title:"Requirements",url:"https://spatie.be/docs/laravel-backup/v3/requirements"},{title:"High Level Overview",url:"https://spatie.be/docs/laravel-backup/v3/high-level-overview"},{title:"Installation and setup",url:"https://spatie.be/docs/laravel-backup/v3/installation-and-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-backup/v3/questions-and-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-backup/v3/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-backup/v3/about-us"}],"TAKING BACKUPS":[{title:"Taking Backups",url:"https://spatie.be/docs/laravel-backup/v3/taking-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v3/taking-backups/events"}],"CLEANING UP OLD BACKUPS":[{title:"Cleaning up old backups",url:"https://spatie.be/docs/laravel-backup/v3/cleaning-up-old-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v3/cleaning-up-old-backups/events"}],"MONITORING THE HEALTH OF ALL BACKUPS":[{title:"Monitoring the health of all backups",url:"https://spatie.be/docs/laravel-backup/v3/monitoring-the-health-of-all-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v3/monitoring-the-health-of-all-backups/events"}],"SENDING NOTIFICATIONS":[{title:"Sending notifications",url:"https://spatie.be/docs/laravel-backup/v3/sending-notifications/overview"},{title:"Creating a custom sender",url:"https://spatie.be/docs/laravel-backup/v3/sending-notifications/creating-a-custom-sender"}],"ADVANCED USAGE":[{title:"Adding Extra Files to the zip",url:"https://spatie.be/docs/laravel-backup/v3/advanced-usage/adding-extra-files-to-the-zip"},{title:"Backing up a non-laravel application",url:"https://spatie.be/docs/laravel-backup/v3/advanced-usage/backing-up-a-non-laravel-application"}]}});var zt=P((Us,as)=>{as.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-backup/v4/introduction"},{title:"Postcardware",url:"https://spatie.be/docs/laravel-backup/v4/postcardware"},{title:"Requirements",url:"https://spatie.be/docs/laravel-backup/v4/requirements"},{title:"High Level Overview",url:"https://spatie.be/docs/laravel-backup/v4/high-level-overview"},{title:"Installation and setup",url:"https://spatie.be/docs/laravel-backup/v4/installation-and-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-backup/v4/questions-and-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-backup/v4/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-backup/v4/about-us"}],"TAKING BACKUPS":[{title:"Taking Backups",url:"https://spatie.be/docs/laravel-backup/v4/taking-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v4/taking-backups/events"}],"CLEANING UP OLD BACKUPS":[{title:"Cleaning up old backups",url:"https://spatie.be/docs/laravel-backup/v4/cleaning-up-old-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v4/cleaning-up-old-backups/events"}],"MONITORING THE HEALTH OF ALL BACKUPS":[{title:"Monitoring the health of all backups",url:"https://spatie.be/docs/laravel-backup/v4/monitoring-the-health-of-all-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v4/monitoring-the-health-of-all-backups/events"}],"SENDING NOTIFICATIONS":[{title:"Sending notifications",url:"https://spatie.be/docs/laravel-backup/v4/sending-notifications/overview"},{title:"Adding extra notification channels",url:"https://spatie.be/docs/laravel-backup/v4/sending-notifications/adding-extra-notification-channels"},{title:"Customizing the notifiable",url:"https://spatie.be/docs/laravel-backup/v4/sending-notifications/customizing-the-notifiable"}],"ADVANCED USAGE":[{title:"Adding extra files to a backup",url:"https://spatie.be/docs/laravel-backup/v4/advanced-usage/adding-extra-files-to-a-backup"},{title:"Backing up a non-laravel application",url:"https://spatie.be/docs/laravel-backup/v4/advanced-usage/backing-up-a-non-laravel-application"}]}});var Ft=P((Bs,ss)=>{ss.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-backup/v5/introduction"},{title:"Postcardware",url:"https://spatie.be/docs/laravel-backup/v5/postcardware"},{title:"Requirements",url:"https://spatie.be/docs/laravel-backup/v5/requirements"},{title:"High Level Overview",url:"https://spatie.be/docs/laravel-backup/v5/high-level-overview"},{title:"Installation and setup",url:"https://spatie.be/docs/laravel-backup/v5/installation-and-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-backup/v5/questions-and-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-backup/v5/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-backup/v5/about-us"}],"TAKING BACKUPS":[{title:"Taking Backups",url:"https://spatie.be/docs/laravel-backup/v5/taking-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v5/taking-backups/events"}],"CLEANING UP OLD BACKUPS":[{title:"Cleaning up old backups",url:"https://spatie.be/docs/laravel-backup/v5/cleaning-up-old-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v5/cleaning-up-old-backups/events"}],"MONITORING THE HEALTH OF ALL BACKUPS":[{title:"Monitoring the health of all backups",url:"https://spatie.be/docs/laravel-backup/v5/monitoring-the-health-of-all-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v5/monitoring-the-health-of-all-backups/events"}],"SENDING NOTIFICATIONS":[{title:"Sending notifications",url:"https://spatie.be/docs/laravel-backup/v5/sending-notifications/overview"},{title:"Adding extra notification channels",url:"https://spatie.be/docs/laravel-backup/v5/sending-notifications/adding-extra-notification-channels"},{title:"Customizing the notifiable",url:"https://spatie.be/docs/laravel-backup/v5/sending-notifications/customizing-the-notifiable"}],"ADVANCED USAGE":[{title:"Adding extra files to a backup",url:"https://spatie.be/docs/laravel-backup/v5/advanced-usage/adding-extra-files-to-a-backup"},{title:"Backing up a non-laravel application",url:"https://spatie.be/docs/laravel-backup/v5/advanced-usage/backing-up-a-non-laravel-application"}]}});var Vt=P((Ls,ns)=>{ns.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-backup/v6/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-backup/v6/support-us"},{title:"Requirements",url:"https://spatie.be/docs/laravel-backup/v6/requirements"},{title:"High Level Overview",url:"https://spatie.be/docs/laravel-backup/v6/high-level-overview"},{title:"Installation and setup",url:"https://spatie.be/docs/laravel-backup/v6/installation-and-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-backup/v6/questions-and-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-backup/v6/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-backup/v6/about-us"}],"TAKING BACKUPS":[{title:"Taking Backups",url:"https://spatie.be/docs/laravel-backup/v6/taking-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v6/taking-backups/events"}],"CLEANING UP OLD BACKUPS":[{title:"Cleaning up old backups",url:"https://spatie.be/docs/laravel-backup/v6/cleaning-up-old-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v6/cleaning-up-old-backups/events"}],"MONITORING THE HEALTH OF ALL BACKUPS":[{title:"Monitoring the health of all backups",url:"https://spatie.be/docs/laravel-backup/v6/monitoring-the-health-of-all-backups/overview"},{title:"Creating your custom health check",url:"https://spatie.be/docs/laravel-backup/v6/monitoring-the-health-of-all-backups/creating-your-custom-health-check"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v6/monitoring-the-health-of-all-backups/events"}],"SENDING NOTIFICATIONS":[{title:"Sending notifications",url:"https://spatie.be/docs/laravel-backup/v6/sending-notifications/overview"},{title:"Adding extra notification channels",url:"https://spatie.be/docs/laravel-backup/v6/sending-notifications/adding-extra-notification-channels"},{title:"Customizing the notifiable",url:"https://spatie.be/docs/laravel-backup/v6/sending-notifications/customizing-the-notifiable"}],"ADVANCED USAGE":[{title:"Adding extra files to a backup",url:"https://spatie.be/docs/laravel-backup/v6/advanced-usage/adding-extra-files-to-a-backup"},{title:"Backing up a non-laravel application",url:"https://spatie.be/docs/laravel-backup/v6/advanced-usage/backing-up-a-non-laravel-application"},{title:"Binary database dumps with PostgreSQL",url:"https://spatie.be/docs/laravel-backup/v6/advanced-usage/binary-database-dumps-with-postgresql"},{title:"Encrypt backup archives",url:"https://spatie.be/docs/laravel-backup/v6/advanced-usage/encrypt-backup-archives"}]}});var Qt=P((_s,is)=>{is.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-backup/v7/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-backup/v7/support-us"},{title:"Requirements",url:"https://spatie.be/docs/laravel-backup/v7/requirements"},{title:"High Level Overview",url:"https://spatie.be/docs/laravel-backup/v7/high-level-overview"},{title:"Installation and setup",url:"https://spatie.be/docs/laravel-backup/v7/installation-and-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-backup/v7/questions-and-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-backup/v7/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-backup/v7/about-us"}],"TAKING BACKUPS":[{title:"Taking Backups",url:"https://spatie.be/docs/laravel-backup/v7/taking-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v7/taking-backups/events"}],"CLEANING UP OLD BACKUPS":[{title:"Cleaning up old backups",url:"https://spatie.be/docs/laravel-backup/v7/cleaning-up-old-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v7/cleaning-up-old-backups/events"}],"MONITORING THE HEALTH OF ALL BACKUPS":[{title:"Monitoring the health of all backups",url:"https://spatie.be/docs/laravel-backup/v7/monitoring-the-health-of-all-backups/overview"},{title:"Creating your custom health check",url:"https://spatie.be/docs/laravel-backup/v7/monitoring-the-health-of-all-backups/creating-your-custom-health-check"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v7/monitoring-the-health-of-all-backups/events"}],"SENDING NOTIFICATIONS":[{title:"Sending notifications",url:"https://spatie.be/docs/laravel-backup/v7/sending-notifications/overview"},{title:"Adding extra notification channels",url:"https://spatie.be/docs/laravel-backup/v7/sending-notifications/adding-extra-notification-channels"},{title:"Customizing the notifiable",url:"https://spatie.be/docs/laravel-backup/v7/sending-notifications/customizing-the-notifiable"}],"ADVANCED USAGE":[{title:"Adding extra files to a backup",url:"https://spatie.be/docs/laravel-backup/v7/advanced-usage/adding-extra-files-to-a-backup"},{title:"Backing up a non-laravel application",url:"https://spatie.be/docs/laravel-backup/v7/advanced-usage/backing-up-a-non-laravel-application"},{title:"Binary database dumps with PostgreSQL",url:"https://spatie.be/docs/laravel-backup/v7/advanced-usage/binary-database-dumps-with-postgresql"},{title:"Encrypt backup archives",url:"https://spatie.be/docs/laravel-backup/v7/advanced-usage/encrypt-backup-archives"}]}});var $t=P((Gs,os)=>{os.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-backup/v8/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-backup/v8/support-us"},{title:"Requirements",url:"https://spatie.be/docs/laravel-backup/v8/requirements"},{title:"High Level Overview",url:"https://spatie.be/docs/laravel-backup/v8/high-level-overview"},{title:"Installation and setup",url:"https://spatie.be/docs/laravel-backup/v8/installation-and-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-backup/v8/questions-and-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-backup/v8/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-backup/v8/about-us"}],"TAKING BACKUPS":[{title:"Taking Backups",url:"https://spatie.be/docs/laravel-backup/v8/taking-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v8/taking-backups/events"}],"CLEANING UP OLD BACKUPS":[{title:"Cleaning up old backups",url:"https://spatie.be/docs/laravel-backup/v8/cleaning-up-old-backups/overview"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v8/cleaning-up-old-backups/events"}],"MONITORING THE HEALTH OF ALL BACKUPS":[{title:"Monitoring the health of all backups",url:"https://spatie.be/docs/laravel-backup/v8/monitoring-the-health-of-all-backups/overview"},{title:"Creating your custom health check",url:"https://spatie.be/docs/laravel-backup/v8/monitoring-the-health-of-all-backups/creating-your-custom-health-check"},{title:"Events",url:"https://spatie.be/docs/laravel-backup/v8/monitoring-the-health-of-all-backups/events"}],"SENDING NOTIFICATIONS":[{title:"Sending notifications",url:"https://spatie.be/docs/laravel-backup/v8/sending-notifications/overview"},{title:"Adding extra notification channels",url:"https://spatie.be/docs/laravel-backup/v8/sending-notifications/adding-extra-notification-channels"},{title:"Customizing the notifiable",url:"https://spatie.be/docs/laravel-backup/v8/sending-notifications/customizing-the-notifiable"}],"ADVANCED USAGE":[{title:"Adding extra files to a backup",url:"https://spatie.be/docs/laravel-backup/v8/advanced-usage/adding-extra-files-to-a-backup"},{title:"Backing up a non-laravel application",url:"https://spatie.be/docs/laravel-backup/v8/advanced-usage/backing-up-a-non-laravel-application"},{title:"Binary database dumps with PostgreSQL",url:"https://spatie.be/docs/laravel-backup/v8/advanced-usage/binary-database-dumps-with-postgresql"},{title:"Encrypt backup archives",url:"https://spatie.be/docs/laravel-backup/v8/advanced-usage/encrypt-backup-archives"}]}});var us={};sr(us,{default:()=>Xt});module.exports=nr(us);var O=require("@raycast/api"),q=require("react"),Jt=Ee(Ut());var N={app_id:"BH4D9OD16A",api_key:"7a1f56fb06bd42e657e82bdafe86cef3",index:"spatie_be"};var _t=Ee(Lt());function Gt(e){return Object.values(e).filter(t=>t).map(t=>t.replace("&amp;","&").replace("# #",""))}function Kt(e){return Gt(e.hierarchy).pop()||""}function Ht(e){let t=(0,_t.default)(e._highlightResult?.content?.value||"");if(t)return t;let r=Gt(e.hierarchy)||[];return r.pop(),r.length?`-> ${r.join(" > ")}`:""}var x=require("react/jsx-runtime"),cs={v3:Wt(),v4:zt(),v5:Ft(),v6:Vt(),v7:Qt(),v8:$t()};function Xt(){let e=(0,O.getPreferenceValues)(),t="version:"+e.spatieLaravelBackupVersion,r=(0,q.useMemo)(()=>(0,Jt.default)(N.app_id,N.api_key),[N.app_id,N.api_key]),a=(0,q.useMemo)(()=>r.initIndex(N.index),[r,N.index]),[s,n]=(0,q.useState)(),[o,l]=(0,q.useState)(!1),v=async(m="")=>{if(m!=="")return l(!0),await a.search(m,{hitsPerPage:11,facetFilters:[t,"project:laravel-backup"]}).then(h=>(l(!1),h.hits)).catch(h=>(l(!1),(0,O.showToast)(O.ToastStyle.Failure,"Error searching Spatie Laravel Backup Documentation",h.message),[]))};(0,q.useEffect)(()=>{(async()=>n(await v()))()},[]);let k=cs[e.spatieLaravelBackupVersion];return(0,x.jsx)(O.List,{throttle:!0,isLoading:o,onSearchTextChange:async m=>n(await v(m)),children:s?.map(m=>(0,x.jsx)(O.List.Item,{title:Kt(m),subtitle:Ht(m),icon:"spatie-icon.png",actions:(0,x.jsxs)(O.ActionPanel,{title:m.url,children:[(0,x.jsx)(O.OpenInBrowserAction,{url:m.url}),(0,x.jsx)(O.CopyToClipboardAction,{content:m.url,title:"Copy URL"})]})},m.objectID))||Object.entries(k).map(([m,h])=>(0,x.jsx)(O.List.Section,{title:m,children:h.map(y=>(0,x.jsx)(O.List.Item,{title:y.title,icon:"spatie-icon.png",actions:(0,x.jsxs)(O.ActionPanel,{title:y.url,children:[(0,x.jsx)(O.OpenInBrowserAction,{url:y.url}),(0,x.jsx)(O.CopyToClipboardAction,{content:y.url,title:"Copy URL"})]})},y.url))},m))})}
