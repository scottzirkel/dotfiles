"use strict";var $t=Object.create;var X=Object.defineProperty;var Qt=Object.getOwnPropertyDescriptor;var Jt=Object.getOwnPropertyNames;var Xt=Object.getPrototypeOf,Yt=Object.prototype.hasOwnProperty;var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Zt=(e,t)=>{for(var r in t)X(e,r,{get:t[r],enumerable:!0})},we=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Jt(t))!Yt.call(e,n)&&n!==r&&X(e,n,{get:()=>t[n],enumerable:!(s=Qt(t,n))||s.enumerable});return e};var ve=(e,t,r)=>(r=e!=null?$t(Xt(e)):{},we(t||!e||!e.__esModule?X(r,"default",{value:e,enumerable:!0}):r,e)),er=e=>we(X({},"__esModule",{value:!0}),e);var Ie=E(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});function F(e){let t=[...e.caches],r=t.shift();return r===void 0?Ae():{get(s,n,a={miss:()=>Promise.resolve()}){return r.get(s,n,a).catch(()=>F({caches:t}).get(s,n,a))},set(s,n){return r.set(s,n).catch(()=>F({caches:t}).set(s,n))},delete(s){return r.delete(s).catch(()=>F({caches:t}).delete(s))},clear(){return r.clear().catch(()=>F({caches:t}).clear())}}}function Ae(){return{get(e,t,r={miss:()=>Promise.resolve()}){return t().then(n=>Promise.all([n,r.miss(n)])).then(([n])=>n)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}Y.createFallbackableCache=F;Y.createNullCache=Ae});var Oe=E((rn,De)=>{De.exports=Ie()});var xe=E(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});function tr(e={serializable:!0}){let t={};return{get(r,s,n={miss:()=>Promise.resolve()}){let a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);let i=s(),l=n&&n.miss||(()=>Promise.resolve());return i.then(f=>l(f)).then(()=>i)},set(r,s){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete(r){return delete t[JSON.stringify(r)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}oe.createInMemoryCache=tr});var Te=E((nn,je)=>{je.exports=xe()});var Me=E(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});function rr(e,t,r){let s={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers(){return e===ie.WithinHeaders?s:{}},queryParameters(){return e===ie.WithinQueryParameters?s:{}}}}function sr(e){let t=0,r=()=>(t++,new Promise(s=>{setTimeout(()=>{s(e(r))},Math.min(100*t,1e3))}));return e(r)}function Re(e,t=(r,s)=>Promise.resolve()){return Object.assign(e,{wait(r){return Re(e.then(s=>Promise.all([t(s,r),s])).then(s=>s[1]))}})}function nr(e){let t=e.length-1;for(t;t>0;t--){let r=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[r],e[r]=s}return e}function ar(e,t){return t&&Object.keys(t).forEach(r=>{e[r]=t[r](e)}),e}function or(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}var ir="4.12.0",cr=e=>()=>e.transporter.requester.destroy(),ie={WithinQueryParameters:0,WithinHeaders:1};R.AuthMode=ie;R.addMethods=ar;R.createAuth=rr;R.createRetryablePromise=sr;R.createWaitablePromise=Re;R.destroy=cr;R.encode=or;R.shuffle=nr;R.version=ir});var H=E((on,qe)=>{qe.exports=Me()});var ke=E(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});var ur={Delete:"DELETE",Get:"GET",Post:"POST",Put:"PUT"};ce.MethodEnum=ur});var L=E((un,Ce)=>{Ce.exports=ke()});var Je=E(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});var Ne=L();function ue(e,t){let r=e||{},s=r.data||{};return Object.keys(r).forEach(n=>{["timeout","headers","queryParameters","data","cacheable"].indexOf(n)===-1&&(s[n]=r[n])}),{data:Object.entries(s).length>0?s:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var K={Read:1,Write:2,Any:3},N={Up:1,Down:2,Timeouted:3},_e=120*1e3;function de(e,t=N.Up){return{...e,status:t,lastUpdate:Date.now()}}function We(e){return e.status===N.Up||Date.now()-e.lastUpdate>_e}function Be(e){return e.status===N.Timeouted&&Date.now()-e.lastUpdate<=_e}function pe(e){return typeof e=="string"?{protocol:"https",url:e,accept:K.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||K.Any}}function lr(e,t){return Promise.all(t.map(r=>e.get(r,()=>Promise.resolve(de(r))))).then(r=>{let s=r.filter(l=>We(l)),n=r.filter(l=>Be(l)),a=[...s,...n],i=a.length>0?a.map(l=>pe(l)):t;return{getTimeout(l,f){return(n.length===0&&l===0?1:n.length+3+l)*f},statelessHosts:i}})}var dr=({isTimedOut:e,status:t})=>!e&&~~t===0,pr=e=>{let t=e.status;return e.isTimedOut||dr(e)||~~(t/100)!==2&&~~(t/100)!==4},hr=({status:e})=>~~(e/100)===2,mr=(e,t)=>pr(e)?t.onRetry(e):hr(e)?t.onSuccess(e):t.onFail(e);function Ue(e,t,r,s){let n=[],a=Ke(r,s),i=Ge(e,s),l=r.method,f=r.method!==Ne.MethodEnum.Get?{}:{...r.data,...s.data},S={"x-algolia-agent":e.userAgent.value,...e.queryParameters,...f,...s.queryParameters},m=0,h=(b,g)=>{let d=b.pop();if(d===void 0)throw Qe(le(n));let P={data:a,headers:i,method:l,url:He(d,r.path,S),connectTimeout:g(m,e.timeouts.connect),responseTimeout:g(m,s.timeout)},A=y=>{let x={request:P,response:y,host:d,triesLeft:b.length};return n.push(x),x},w={onSuccess:y=>ze(y),onRetry(y){let x=A(y);return y.isTimedOut&&m++,Promise.all([e.logger.info("Retryable failure",he(x)),e.hostsCache.set(d,de(d,y.isTimedOut?N.Timeouted:N.Down))]).then(()=>h(b,g))},onFail(y){throw A(y),Fe(y,le(n))}};return e.requester.send(P).then(y=>mr(y,w))};return lr(e.hostsCache,t).then(b=>h([...b.statelessHosts].reverse(),b.getTimeout))}function gr(e){let{hostsCache:t,logger:r,requester:s,requestsCache:n,responsesCache:a,timeouts:i,userAgent:l,hosts:f,queryParameters:S,headers:m}=e,h={hostsCache:t,logger:r,requester:s,requestsCache:n,responsesCache:a,timeouts:i,userAgent:l,headers:m,queryParameters:S,hosts:f.map(b=>pe(b)),read(b,g){let d=ue(g,h.timeouts.read),P=()=>Ue(h,h.hosts.filter(y=>(y.accept&K.Read)!==0),b,d);if((d.cacheable!==void 0?d.cacheable:b.cacheable)!==!0)return P();let w={request:b,mappedRequestOptions:d,transporter:{queryParameters:h.queryParameters,headers:h.headers}};return h.responsesCache.get(w,()=>h.requestsCache.get(w,()=>h.requestsCache.set(w,P()).then(y=>Promise.all([h.requestsCache.delete(w),y]),y=>Promise.all([h.requestsCache.delete(w),Promise.reject(y)])).then(([y,x])=>x)),{miss:y=>h.responsesCache.set(w,y)})},write(b,g){return Ue(h,h.hosts.filter(d=>(d.accept&K.Write)!==0),b,ue(g,h.timeouts.write))}};return h}function yr(e){let t={value:`Algolia for JavaScript (${e})`,add(r){let s=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return t.value.indexOf(s)===-1&&(t.value=`${t.value}${s}`),t}};return t}function ze(e){try{return JSON.parse(e.content)}catch(t){throw $e(t.message,e)}}function Fe({content:e,status:t},r){let s=e;try{s=JSON.parse(e).message}catch{}return Ve(s,t,r)}function fr(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}function He(e,t,r){let s=Le(r),n=`${e.protocol}://${e.url}/${t.charAt(0)==="/"?t.substr(1):t}`;return s.length&&(n+=`?${s}`),n}function Le(e){let t=r=>Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]";return Object.keys(e).map(r=>fr("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])).join("&")}function Ke(e,t){if(e.method===Ne.MethodEnum.Get||e.data===void 0&&t.data===void 0)return;let r=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(r)}function Ge(e,t){let r={...e.headers,...t.headers},s={};return Object.keys(r).forEach(n=>{let a=r[n];s[n.toLowerCase()]=a}),s}function le(e){return e.map(t=>he(t))}function he(e){let t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function Ve(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}function $e(e,t){return{name:"DeserializationError",message:e,response:t}}function Qe(e){return{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:e}}v.CallEnum=K;v.HostStatusEnum=N;v.createApiError=Ve;v.createDeserializationError=$e;v.createMappedRequestOptions=ue;v.createRetryError=Qe;v.createStatefulHost=de;v.createStatelessHost=pe;v.createTransporter=gr;v.createUserAgent=yr;v.deserializeFailure=Fe;v.deserializeSuccess=ze;v.isStatefulHostTimeouted=Be;v.isStatefulHostUp=We;v.serializeData=Ke;v.serializeHeaders=Ge;v.serializeQueryParameters=Le;v.serializeUrl=He;v.stackFrameWithoutCredentials=he;v.stackTraceWithoutCredentials=le});var G=E((dn,Xe)=>{Xe.exports=Je()});var Ye=E(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});var _=H(),br=G(),V=L(),Pr=e=>{let t=e.region||"us",r=_.createAuth(_.AuthMode.WithinHeaders,e.appId,e.apiKey),s=br.createTransporter({hosts:[{url:`analytics.${t}.algolia.com`}],...e,headers:{...r.headers(),"content-type":"application/json",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}}),n=e.appId;return _.addMethods({appId:n,transporter:s},e.methods)},Sr=e=>(t,r)=>e.transporter.write({method:V.MethodEnum.Post,path:"2/abtests",data:t},r),Er=e=>(t,r)=>e.transporter.write({method:V.MethodEnum.Delete,path:_.encode("2/abtests/%s",t)},r),wr=e=>(t,r)=>e.transporter.read({method:V.MethodEnum.Get,path:_.encode("2/abtests/%s",t)},r),vr=e=>t=>e.transporter.read({method:V.MethodEnum.Get,path:"2/abtests"},t),Ar=e=>(t,r)=>e.transporter.write({method:V.MethodEnum.Post,path:_.encode("2/abtests/%s/stop",t)},r);q.addABTest=Sr;q.createAnalyticsClient=Pr;q.deleteABTest=Er;q.getABTest=wr;q.getABTests=vr;q.stopABTest=Ar});var et=E((hn,Ze)=>{Ze.exports=Ye()});var rt=E($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});var me=H(),Ir=G(),tt=L(),Dr=e=>{let t=e.region||"us",r=me.createAuth(me.AuthMode.WithinHeaders,e.appId,e.apiKey),s=Ir.createTransporter({hosts:[{url:`personalization.${t}.algolia.com`}],...e,headers:{...r.headers(),"content-type":"application/json",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}});return me.addMethods({appId:e.appId,transporter:s},e.methods)},Or=e=>t=>e.transporter.read({method:tt.MethodEnum.Get,path:"1/strategies/personalization"},t),xr=e=>(t,r)=>e.transporter.write({method:tt.MethodEnum.Post,path:"1/strategies/personalization",data:t},r);$.createPersonalizationClient=Dr;$.getPersonalizationStrategy=Or;$.setPersonalizationStrategy=xr});var nt=E((gn,st)=>{st.exports=rt()});var bt=E(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var u=H(),O=G(),p=L(),jr=require("crypto");function Z(e){let t=r=>e.request(r).then(s=>{if(e.batch!==void 0&&e.batch(s.hits),!e.shouldStop(s))return s.cursor?t({cursor:s.cursor}):t({page:(r.page||0)+1})});return t({})}var Tr=e=>{let t=e.appId,r=u.createAuth(e.authMode!==void 0?e.authMode:u.AuthMode.WithinHeaders,t,e.apiKey),s=O.createTransporter({hosts:[{url:`${t}-dsn.algolia.net`,accept:O.CallEnum.Read},{url:`${t}.algolia.net`,accept:O.CallEnum.Write}].concat(u.shuffle([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}])),...e,headers:{...r.headers(),"content-type":"application/x-www-form-urlencoded",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}}),n={transporter:s,appId:t,addAlgoliaAgent(a,i){s.userAgent.add({segment:a,version:i})},clearCache(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then(()=>{})}};return u.addMethods(n,e.methods)};function at(){return{name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}}function ot(){return{name:"ObjectNotFoundError",message:"Object not found."}}function it(){return{name:"ValidUntilNotFoundError",message:"ValidUntil not found in given secured api key."}}var Rr=e=>(t,r)=>{let{queryParameters:s,...n}=r||{},a={acl:t,...s!==void 0?{queryParameters:s}:{}},i=(l,f)=>u.createRetryablePromise(S=>Q(e)(l.key,f).catch(m=>{if(m.status!==404)throw m;return S()}));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:"1/keys",data:a},n),i)},Mr=e=>(t,r,s)=>{let n=O.createMappedRequestOptions(s);return n.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:p.MethodEnum.Post,path:"1/clusters/mapping",data:{cluster:r}},n)},qr=e=>(t,r,s)=>e.transporter.write({method:p.MethodEnum.Post,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},s),kr=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(s,n)=>W(e)(s.taskID,n)),ee=e=>(t,r,s)=>{let n=(a,i)=>J(e)(t,{methods:{waitTask:I}}).waitTask(a.taskID,i);return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},s),n)},Cr=e=>(t,r,s)=>ee(e)(t,r,{...s,scope:[re.Rules]}),Ur=e=>(t,r,s)=>ee(e)(t,r,{...s,scope:[re.Settings]}),Nr=e=>(t,r,s)=>ee(e)(t,r,{...s,scope:[re.Synonyms]}),_r=e=>(t,r)=>t.method===p.MethodEnum.Get?e.transporter.read(t,r):e.transporter.write(t,r),Wr=e=>(t,r)=>{let s=(n,a)=>u.createRetryablePromise(i=>Q(e)(t,a).then(i).catch(l=>{if(l.status!==404)throw l}));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Delete,path:u.encode("1/keys/%s",t)},r),s)},Br=e=>(t,r,s)=>{let n=r.map(a=>({action:"deleteEntry",body:{objectID:a}}));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:n}},s),(a,i)=>W(e)(a.taskID,i))},zr=()=>(e,t)=>{let r=O.serializeQueryParameters(t),s=jr.createHmac("sha256",e).update(r).digest("hex");return Buffer.from(s+r).toString("base64")},Q=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/keys/%s",t)},r),ct=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/task/%s",t.toString())},r),Fr=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"/1/dictionaries/*/settings"},t),Hr=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"1/logs"},t),Lr=()=>e=>{let t=Buffer.from(e,"base64").toString("ascii"),r=/validUntil=(\d+)/,s=t.match(r);if(s===null)throw it();return parseInt(s[1],10)-Math.round(new Date().getTime()/1e3)},Kr=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"1/clusters/mapping/top"},t),Gr=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/clusters/mapping/%s",t)},r),Vr=e=>t=>{let{retrieveMappings:r,...s}=t||{};return r===!0&&(s.getClusters=!0),e.transporter.read({method:p.MethodEnum.Get,path:"1/clusters/mapping/pending"},s)},J=e=>(t,r={})=>{let s={transporter:e.transporter,appId:e.appId,indexName:t};return u.addMethods(s,r.methods)},$r=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"1/keys"},t),Qr=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"1/clusters"},t),Jr=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"1/indexes"},t),Xr=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:"1/clusters/mapping"},t),Yr=e=>(t,r,s)=>{let n=(a,i)=>J(e)(t,{methods:{waitTask:I}}).waitTask(a.taskID,i);return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},s),n)},Zr=e=>(t,r)=>{let s=(n,a)=>Promise.all(Object.keys(n.taskID).map(i=>J(e)(i,{methods:{waitTask:I}}).waitTask(n.taskID[i],a)));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:"1/indexes/*/batch",data:{requests:t}},r),s)},es=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:t}},r),ts=e=>(t,r)=>{let s=t.map(n=>({...n,params:O.serializeQueryParameters(n.params||{})}));return e.transporter.read({method:p.MethodEnum.Post,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},r)},rs=e=>(t,r)=>Promise.all(t.map(s=>{let{facetName:n,facetQuery:a,...i}=s.params;return J(e)(s.indexName,{methods:{searchForFacetValues:gt}}).searchForFacetValues(n,a,{...r,...i})})),ss=e=>(t,r)=>{let s=O.createMappedRequestOptions(r);return s.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:p.MethodEnum.Delete,path:"1/clusters/mapping"},s)},ns=e=>(t,r,s)=>{let n=r.map(a=>({action:"addEntry",body:a}));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:n}},s),(a,i)=>W(e)(a.taskID,i))},as=e=>(t,r)=>{let s=(n,a)=>u.createRetryablePromise(i=>Q(e)(t,a).catch(l=>{if(l.status!==404)throw l;return i()}));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/keys/%s/restore",t)},r),s)},os=e=>(t,r,s)=>{let n=r.map(a=>({action:"addEntry",body:a}));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:n}},s),(a,i)=>W(e)(a.taskID,i))},is=e=>(t,r,s)=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/search",t),data:{query:r},cacheable:!0},s),cs=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Post,path:"1/clusters/mapping/search",data:{query:t}},r),us=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Put,path:"/1/dictionaries/*/settings",data:t},r),(s,n)=>W(e)(s.taskID,n)),ls=e=>(t,r)=>{let s=Object.assign({},r),{queryParameters:n,...a}=r||{},i=n?{queryParameters:n}:{},l=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"],f=m=>Object.keys(s).filter(h=>l.indexOf(h)!==-1).every(h=>m[h]===s[h]),S=(m,h)=>u.createRetryablePromise(b=>Q(e)(t,h).then(g=>f(g)?Promise.resolve():b()));return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Put,path:u.encode("1/keys/%s",t),data:i},a),S)},W=e=>(t,r)=>u.createRetryablePromise(s=>ct(e)(t,r).then(n=>n.status!=="published"?s():void 0)),ut=e=>(t,r)=>{let s=(n,a)=>I(e)(n.taskID,a);return u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),s)},ds=e=>t=>Z({shouldStop:r=>r.cursor===void 0,...t,request:r=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/browse",e.indexName),data:r},t)}),ps=e=>t=>{let r={hitsPerPage:1e3,...t};return Z({shouldStop:s=>s.hits.length<r.hitsPerPage,...r,request(s){return yt(e)("",{...r,...s}).then(n=>({...n,hits:n.hits.map(a=>(delete a._highlightResult,a))}))}})},hs=e=>t=>{let r={hitsPerPage:1e3,...t};return Z({shouldStop:s=>s.hits.length<r.hitsPerPage,...r,request(s){return ft(e)("",{...r,...s}).then(n=>({...n,hits:n.hits.map(a=>(delete a._highlightResult,a))}))}})},te=e=>(t,r,s)=>{let{batchSize:n,...a}=s||{},i={taskIDs:[],objectIDs:[]},l=(f=0)=>{let S=[],m;for(m=f;m<t.length&&(S.push(t[m]),S.length!==(n||1e3));m++);return S.length===0?Promise.resolve(i):ut(e)(S.map(h=>({action:r,body:h})),a).then(h=>(i.objectIDs=i.objectIDs.concat(h.objectIDs),i.taskIDs.push(h.taskID),m++,l(m)))};return u.createWaitablePromise(l(),(f,S)=>Promise.all(f.taskIDs.map(m=>I(e)(m,S))))},ms=e=>t=>u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/clear",e.indexName)},t),(r,s)=>I(e)(r.taskID,s)),gs=e=>t=>{let{forwardToReplicas:r,...s}=t||{},n=O.createMappedRequestOptions(s);return r&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/clear",e.indexName)},n),(a,i)=>I(e)(a.taskID,i))},ys=e=>t=>{let{forwardToReplicas:r,...s}=t||{},n=O.createMappedRequestOptions(s);return r&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/clear",e.indexName)},n),(a,i)=>I(e)(a.taskID,i))},fs=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(s,n)=>I(e)(s.taskID,n)),bs=e=>t=>u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Delete,path:u.encode("1/indexes/%s",e.indexName)},t),(r,s)=>I(e)(r.taskID,s)),Ps=e=>(t,r)=>u.createWaitablePromise(lt(e)([t],r).then(s=>({taskID:s.taskIDs[0]})),(s,n)=>I(e)(s.taskID,n)),lt=e=>(t,r)=>{let s=t.map(n=>({objectID:n}));return te(e)(s,C.DeleteObject,r)},Ss=e=>(t,r)=>{let{forwardToReplicas:s,...n}=r||{},a=O.createMappedRequestOptions(n);return s&&(a.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Delete,path:u.encode("1/indexes/%s/rules/%s",e.indexName,t)},a),(i,l)=>I(e)(i.taskID,l))},Es=e=>(t,r)=>{let{forwardToReplicas:s,...n}=r||{},a=O.createMappedRequestOptions(n);return s&&(a.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Delete,path:u.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},a),(i,l)=>I(e)(i.taskID,l))},ws=e=>t=>dt(e)(t).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),vs=e=>(t,r,s)=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},s),As=e=>(t,r)=>{let{query:s,paginate:n,...a}=r||{},i=0,l=()=>mt(e)(s||"",{...a,page:i}).then(f=>{for(let[S,m]of Object.entries(f.hits))if(t(m))return{object:m,position:parseInt(S,10),page:i};if(i++,n===!1||i>=f.nbPages)throw ot();return l()});return l()},Is=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/indexes/%s/%s",e.indexName,t)},r),Ds=()=>(e,t)=>{for(let[r,s]of Object.entries(e.hits))if(s.objectID===t)return parseInt(r,10);return-1},Os=e=>(t,r)=>{let{attributesToRetrieve:s,...n}=r||{},a=t.map(i=>({indexName:e.indexName,objectID:i,...s?{attributesToRetrieve:s}:{}}));return e.transporter.read({method:p.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:a}},n)},xs=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/indexes/%s/rules/%s",e.indexName,t)},r),dt=e=>t=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t),js=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},r),pt=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Get,path:u.encode("1/indexes/%s/task/%s",e.indexName,t.toString())},r),Ts=e=>(t,r)=>u.createWaitablePromise(ht(e)([t],r).then(s=>({objectID:s.objectIDs[0],taskID:s.taskIDs[0]})),(s,n)=>I(e)(s.taskID,n)),ht=e=>(t,r)=>{let{createIfNotExists:s,...n}=r||{},a=s?C.PartialUpdateObject:C.PartialUpdateObjectNoCreate;return te(e)(t,a,n)},Rs=e=>(t,r)=>{let{safe:s,autoGenerateObjectIDIfNotExist:n,batchSize:a,...i}=r||{},l=(d,P,A,w)=>u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",d),data:{operation:A,destination:P}},w),(y,x)=>I(e)(y.taskID,x)),f=Math.random().toString(36).substring(7),S=`${e.indexName}_tmp_${f}`,m=ge({appId:e.appId,transporter:e.transporter,indexName:S}),h=[],b=l(e.indexName,S,"copy",{...i,scope:["settings","synonyms","rules"]});h.push(b);let g=(s?b.wait(i):b).then(()=>{let d=m(t,{...i,autoGenerateObjectIDIfNotExist:n,batchSize:a});return h.push(d),s?d.wait(i):d}).then(()=>{let d=l(S,e.indexName,"move",i);return h.push(d),s?d.wait(i):d}).then(()=>Promise.all(h)).then(([d,P,A])=>({objectIDs:P.objectIDs,taskIDs:[d.taskID,...P.taskIDs,A.taskID]}));return u.createWaitablePromise(g,(d,P)=>Promise.all(h.map(A=>A.wait(P))))},Ms=e=>(t,r)=>ye(e)(t,{...r,clearExistingRules:!0}),qs=e=>(t,r)=>fe(e)(t,{...r,clearExistingSynonyms:!0}),ks=e=>(t,r)=>u.createWaitablePromise(ge(e)([t],r).then(s=>({objectID:s.objectIDs[0],taskID:s.taskIDs[0]})),(s,n)=>I(e)(s.taskID,n)),ge=e=>(t,r)=>{let{autoGenerateObjectIDIfNotExist:s,...n}=r||{},a=s?C.AddObject:C.UpdateObject;if(a===C.UpdateObject){for(let i of t)if(i.objectID===void 0)return u.createWaitablePromise(Promise.reject(at()))}return te(e)(t,a,n)},Cs=e=>(t,r)=>ye(e)([t],r),ye=e=>(t,r)=>{let{forwardToReplicas:s,clearExistingRules:n,...a}=r||{},i=O.createMappedRequestOptions(a);return s&&(i.queryParameters.forwardToReplicas=1),n&&(i.queryParameters.clearExistingRules=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/batch",e.indexName),data:t},i),(l,f)=>I(e)(l.taskID,f))},Us=e=>(t,r)=>fe(e)([t],r),fe=e=>(t,r)=>{let{forwardToReplicas:s,clearExistingSynonyms:n,replaceExistingSynonyms:a,...i}=r||{},l=O.createMappedRequestOptions(i);return s&&(l.queryParameters.forwardToReplicas=1),(a||n)&&(l.queryParameters.replaceExistingSynonyms=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/batch",e.indexName),data:t},l),(f,S)=>I(e)(f.taskID,S))},mt=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r),gt=e=>(t,r,s)=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},s),yt=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r),ft=e=>(t,r)=>e.transporter.read({method:p.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r),Ns=e=>(t,r)=>{let{forwardToReplicas:s,...n}=r||{},a=O.createMappedRequestOptions(n);return s&&(a.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:p.MethodEnum.Put,path:u.encode("1/indexes/%s/settings",e.indexName),data:t},a),(i,l)=>I(e)(i.taskID,l))},I=e=>(t,r)=>u.createRetryablePromise(s=>pt(e)(t,r).then(n=>n.status!=="published"?s():void 0)),_s={AddObject:"addObject",Analytics:"analytics",Browser:"browse",DeleteIndex:"deleteIndex",DeleteObject:"deleteObject",EditSettings:"editSettings",ListIndexes:"listIndexes",Logs:"logs",Personalization:"personalization",Recommendation:"recommendation",Search:"search",SeeUnretrievableAttributes:"seeUnretrievableAttributes",Settings:"settings",Usage:"usage"},C={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},re={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Ws={None:"none",StopIfEnoughMatches:"stopIfEnoughMatches"},Bs={Synonym:"synonym",OneWaySynonym:"oneWaySynonym",AltCorrection1:"altCorrection1",AltCorrection2:"altCorrection2",Placeholder:"placeholder"};o.ApiKeyACLEnum=_s;o.BatchActionEnum=C;o.ScopeEnum=re;o.StrategyEnum=Ws;o.SynonymEnum=Bs;o.addApiKey=Rr;o.assignUserID=Mr;o.assignUserIDs=qr;o.batch=ut;o.browseObjects=ds;o.browseRules=ps;o.browseSynonyms=hs;o.chunkedBatch=te;o.clearDictionaryEntries=kr;o.clearObjects=ms;o.clearRules=gs;o.clearSynonyms=ys;o.copyIndex=ee;o.copyRules=Cr;o.copySettings=Ur;o.copySynonyms=Nr;o.createBrowsablePromise=Z;o.createMissingObjectIDError=at;o.createObjectNotFoundError=ot;o.createSearchClient=Tr;o.createValidUntilNotFoundError=it;o.customRequest=_r;o.deleteApiKey=Wr;o.deleteBy=fs;o.deleteDictionaryEntries=Br;o.deleteIndex=bs;o.deleteObject=Ps;o.deleteObjects=lt;o.deleteRule=Ss;o.deleteSynonym=Es;o.exists=ws;o.findAnswers=vs;o.findObject=As;o.generateSecuredApiKey=zr;o.getApiKey=Q;o.getAppTask=ct;o.getDictionarySettings=Fr;o.getLogs=Hr;o.getObject=Is;o.getObjectPosition=Ds;o.getObjects=Os;o.getRule=xs;o.getSecuredApiKeyRemainingValidity=Lr;o.getSettings=dt;o.getSynonym=js;o.getTask=pt;o.getTopUserIDs=Kr;o.getUserID=Gr;o.hasPendingMappings=Vr;o.initIndex=J;o.listApiKeys=$r;o.listClusters=Qr;o.listIndices=Jr;o.listUserIDs=Xr;o.moveIndex=Yr;o.multipleBatch=Zr;o.multipleGetObjects=es;o.multipleQueries=ts;o.multipleSearchForFacetValues=rs;o.partialUpdateObject=Ts;o.partialUpdateObjects=ht;o.removeUserID=ss;o.replaceAllObjects=Rs;o.replaceAllRules=Ms;o.replaceAllSynonyms=qs;o.replaceDictionaryEntries=ns;o.restoreApiKey=as;o.saveDictionaryEntries=os;o.saveObject=ks;o.saveObjects=ge;o.saveRule=Cs;o.saveRules=ye;o.saveSynonym=Us;o.saveSynonyms=fe;o.search=mt;o.searchDictionaryEntries=is;o.searchForFacetValues=gt;o.searchRules=yt;o.searchSynonyms=ft;o.searchUserIDs=cs;o.setDictionarySettings=us;o.setSettings=Ns;o.updateApiKey=ls;o.waitAppTask=W;o.waitTask=I});var St=E((fn,Pt)=>{Pt.exports=bt()});var Et=E(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});function zs(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var Fs={Debug:1,Info:2,Error:3};se.LogLevelEnum=Fs;se.createNullLogger=zs});var vt=E((Pn,wt)=>{wt.exports=Et()});var Ot=E(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var At=require("http"),It=require("https"),Hs=require("url"),Dt={keepAlive:!0},Ls=new At.Agent(Dt),Ks=new It.Agent(Dt);function Gs({agent:e,httpAgent:t,httpsAgent:r,requesterOptions:s={}}={}){let n=t||e||Ls,a=r||e||Ks;return{send(i){return new Promise(l=>{let f=Hs.parse(i.url),S=f.query===null?f.pathname:`${f.pathname}?${f.query}`,m={...s,agent:f.protocol==="https:"?a:n,hostname:f.hostname,path:S,method:i.method,headers:{...s&&s.headers?s.headers:{},...i.headers},...f.port!==void 0?{port:f.port||""}:{}},h=(f.protocol==="https:"?It:At).request(m,P=>{let A=[];P.on("data",w=>{A=A.concat(w)}),P.on("end",()=>{clearTimeout(g),clearTimeout(d),l({status:P.statusCode||0,content:Buffer.concat(A).toString(),isTimedOut:!1})})}),b=(P,A)=>setTimeout(()=>{h.abort(),l({status:0,content:A,isTimedOut:!0})},P*1e3),g=b(i.connectTimeout,"Connection timeout"),d;h.on("error",P=>{clearTimeout(g),clearTimeout(d),l({status:0,content:P.message,isTimedOut:!1})}),h.once("response",()=>{clearTimeout(g),d=b(i.responseTimeout,"Socket timeout")}),i.data!==void 0&&h.write(i.data),h.end()})},destroy(){return n.destroy(),a.destroy(),Promise.resolve()}}}be.createNodeHttpRequester=Gs});var jt=E((En,xt)=>{xt.exports=Ot()});var qt=E((wn,Mt)=>{"use strict";var Tt=Oe(),Vs=Te(),B=et(),Se=H(),Pe=nt(),c=St(),$s=vt(),Qs=jt(),Js=G();function Rt(e,t,r){let s={appId:e,apiKey:t,timeouts:{connect:2,read:5,write:30},requester:Qs.createNodeHttpRequester(),logger:$s.createNullLogger(),responsesCache:Tt.createNullCache(),requestsCache:Tt.createNullCache(),hostsCache:Vs.createInMemoryCache(),userAgent:Js.createUserAgent(Se.version).add({segment:"Node.js",version:process.versions.node})},n={...s,...r},a=()=>i=>Pe.createPersonalizationClient({...s,...i,methods:{getPersonalizationStrategy:Pe.getPersonalizationStrategy,setPersonalizationStrategy:Pe.setPersonalizationStrategy}});return c.createSearchClient({...n,methods:{search:c.multipleQueries,searchForFacetValues:c.multipleSearchForFacetValues,multipleBatch:c.multipleBatch,multipleGetObjects:c.multipleGetObjects,multipleQueries:c.multipleQueries,copyIndex:c.copyIndex,copySettings:c.copySettings,copyRules:c.copyRules,copySynonyms:c.copySynonyms,moveIndex:c.moveIndex,listIndices:c.listIndices,getLogs:c.getLogs,listClusters:c.listClusters,multipleSearchForFacetValues:c.multipleSearchForFacetValues,getApiKey:c.getApiKey,addApiKey:c.addApiKey,listApiKeys:c.listApiKeys,updateApiKey:c.updateApiKey,deleteApiKey:c.deleteApiKey,restoreApiKey:c.restoreApiKey,assignUserID:c.assignUserID,assignUserIDs:c.assignUserIDs,getUserID:c.getUserID,searchUserIDs:c.searchUserIDs,listUserIDs:c.listUserIDs,getTopUserIDs:c.getTopUserIDs,removeUserID:c.removeUserID,hasPendingMappings:c.hasPendingMappings,generateSecuredApiKey:c.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:c.getSecuredApiKeyRemainingValidity,destroy:Se.destroy,clearDictionaryEntries:c.clearDictionaryEntries,deleteDictionaryEntries:c.deleteDictionaryEntries,getDictionarySettings:c.getDictionarySettings,getAppTask:c.getAppTask,replaceDictionaryEntries:c.replaceDictionaryEntries,saveDictionaryEntries:c.saveDictionaryEntries,searchDictionaryEntries:c.searchDictionaryEntries,setDictionarySettings:c.setDictionarySettings,waitAppTask:c.waitAppTask,customRequest:c.customRequest,initIndex:i=>l=>c.initIndex(i)(l,{methods:{batch:c.batch,delete:c.deleteIndex,findAnswers:c.findAnswers,getObject:c.getObject,getObjects:c.getObjects,saveObject:c.saveObject,saveObjects:c.saveObjects,search:c.search,searchForFacetValues:c.searchForFacetValues,waitTask:c.waitTask,setSettings:c.setSettings,getSettings:c.getSettings,partialUpdateObject:c.partialUpdateObject,partialUpdateObjects:c.partialUpdateObjects,deleteObject:c.deleteObject,deleteObjects:c.deleteObjects,deleteBy:c.deleteBy,clearObjects:c.clearObjects,browseObjects:c.browseObjects,getObjectPosition:c.getObjectPosition,findObject:c.findObject,exists:c.exists,saveSynonym:c.saveSynonym,saveSynonyms:c.saveSynonyms,getSynonym:c.getSynonym,searchSynonyms:c.searchSynonyms,browseSynonyms:c.browseSynonyms,deleteSynonym:c.deleteSynonym,clearSynonyms:c.clearSynonyms,replaceAllObjects:c.replaceAllObjects,replaceAllSynonyms:c.replaceAllSynonyms,searchRules:c.searchRules,getRule:c.getRule,deleteRule:c.deleteRule,saveRule:c.saveRule,saveRules:c.saveRules,replaceAllRules:c.replaceAllRules,browseRules:c.browseRules,clearRules:c.clearRules}}),initAnalytics:()=>i=>B.createAnalyticsClient({...s,...i,methods:{addABTest:B.addABTest,getABTest:B.getABTest,getABTests:B.getABTests,stopABTest:B.stopABTest,deleteABTest:B.deleteABTest}}),initPersonalization:a,initRecommendation:()=>i=>(n.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),a()(i))}})}Rt.version=Se.version;Mt.exports=Rt});var Ct=E((vn,Ee)=>{var kt=qt();Ee.exports=kt;Ee.exports.default=kt});var Nt=E((An,Ut)=>{Ut.exports=Ct()});var Wt=E((_t,ne)=>{"use strict";(function(e){if(typeof t!="function"){var t=function(g){return g};t.nonNative=!0}let r=t("plaintext"),s=t("html"),n=t("comment"),a=/<(\w*)>/g,i=/<\/?([^\s\/>]+)/;function l(g,d,P){g=g||"",d=d||[],P=P||"";let A=S(d,P);return m(g,A)}function f(g,d){g=g||[],d=d||"";let P=S(g,d);return function(w){return m(w||"",P)}}l.init_streaming_mode=f;function S(g,d){return g=h(g),{allowable_tags:g,tag_replacement:d,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function m(g,d){if(typeof g!="string")throw new TypeError("'html' parameter must be a string");let P=d.allowable_tags,A=d.tag_replacement,w=d.state,y=d.tag_buffer,x=d.depth,M=d.in_quote_char,z="";for(let ae=0,Vt=g.length;ae<Vt;ae++){let j=g[ae];if(w===r)switch(j){case"<":w=s,y+=j;break;default:z+=j;break}else if(w===s)switch(j){case"<":if(M)break;x++;break;case">":if(M)break;if(x){x--;break}M="",w=r,y+=">",P.has(b(y))?z+=y:z+=A,y="";break;case'"':case"'":j===M?M="":M=M||j,y+=j;break;case"-":y==="<!-"&&(w=n),y+=j;break;case" ":case`
`:if(y==="<"){w=r,z+="< ",y="";break}y+=j;break;default:y+=j;break}else if(w===n)switch(j){case">":y.slice(-2)=="--"&&(w=r),y="";break;default:y+=j;break}}return d.state=w,d.tag_buffer=y,d.depth=x,d.in_quote_char=M,z}function h(g){let d=new Set;if(typeof g=="string"){let P;for(;P=a.exec(g);)d.add(P[1])}else!t.nonNative&&typeof g[t.iterator]=="function"?d=new Set(g):typeof g.forEach=="function"&&g.forEach(d.add,d);return d}function b(g){let d=i.exec(g);return d?d[1].toLowerCase():null}typeof define=="function"&&define.amd?define(function(){return l}):typeof ne=="object"&&ne.exports?ne.exports=l:e.striptags=l})(_t)});var Lt=E((On,Xs)=>{Xs.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/browsershot/v2/introduction"},{title:"Support Us",url:"https://spatie.be/docs/browsershot/v2/support-us"},{title:"Requirements",url:"https://spatie.be/docs/browsershot/v2/requirements"},{title:"Installation & setup",url:"https://spatie.be/docs/browsershot/v2/installation-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/browsershot/v2/questions-issues"},{title:"Changelog",url:"https://spatie.be/docs/browsershot/v2/changelog"},{title:"About us",url:"https://spatie.be/docs/browsershot/v2/about-us"}],USAGE:[{title:"Introduction",url:"https://spatie.be/docs/browsershot/v2/usage/introduction"},{title:"Creating images",url:"https://spatie.be/docs/browsershot/v2/usage/creating-images"},{title:"Creating PDFs",url:"https://spatie.be/docs/browsershot/v2/usage/creating-pdfs"},{title:"Creating HTML",url:"https://spatie.be/docs/browsershot/v2/usage/creating-html"}],"MISCELLANEOUS OPTIONS":[{title:"Adding extra headers to every request",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/adding-extra-headers-to-every-request"},{title:"Adding extra headers to the navigational request",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/adding-extra-headers-to-the-navigational-request"},{title:"Changing the language of the browser",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/changing-the-language-of-the-browser"},{title:"Changing the value of a dropdown",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/changing-the-value-of-a-dropdown"},{title:"Clicking on the page",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/clicking-on-the-page"},{title:"Connection to a remote chromium/chrome instance",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/connection-to-a-remote-chrome-instance"},{title:"Disable sandboxing",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/disable-sandboxing"},{title:"Fixing cors issues",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/fixing-cors-options"},{title:"Ignore HTTPS errors",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/ignore-https-errors"},{title:"Passing environment variables to the browser",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/passing-environment-variables-to-the-browser"},{title:"Prevent unsuccessful responses",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/prevent-unsuccessful-responses"},{title:"Sending POST requests",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/sending-post-requests"},{title:"Setting an arbitrary option",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-an-arbirary-option"},{title:"Setting the CSS media type of the page",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-the-css-media-type-of-the-page"},{title:"Setting the timeout",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-the-timeout"},{title:"Setting the user agent",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-the-user-agent"},{title:"Specifying-a-proxy-server",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/specifying-a-proxy-server"},{title:"Typing on the page",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/typing-on-the-page"},{title:"Using a pipe instead of a WebSocket",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/using-a-pipe-instead-of-a-websocket"},{title:"Using cookies",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/using-cookies"},{title:"Using HTTP Authentication",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/using-http-authentication"},{title:"Writing options to a file",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/writing-options-to-a-file"}]}});var Zs={};Zt(Zs,{default:()=>Gt});module.exports=er(Zs);var D=require("@raycast/api"),k=require("react"),Kt=ve(Nt());var U={app_id:"BH4D9OD16A",api_key:"7a1f56fb06bd42e657e82bdafe86cef3",index:"spatie_be"};var Bt=ve(Wt());function zt(e){return Object.values(e).filter(t=>t).map(t=>t.replace("&amp;","&").replace("# #",""))}function Ft(e){return zt(e.hierarchy).pop()||""}function Ht(e){let t=(0,Bt.default)(e._highlightResult?.content?.value||"");if(t)return t;let r=zt(e.hierarchy)||[];return r.pop(),r.length?`-> ${r.join(" > ")}`:""}var T=require("react/jsx-runtime"),Ys={v2:Lt()};function Gt(){let e=(0,D.getPreferenceValues)(),t="version:"+e.spatieBrowsershotVersion,r=(0,k.useMemo)(()=>(0,Kt.default)(U.app_id,U.api_key),[U.app_id,U.api_key]),s=(0,k.useMemo)(()=>r.initIndex(U.index),[r,U.index]),[n,a]=(0,k.useState)(),[i,l]=(0,k.useState)(!1),f=async(m="")=>{if(m!=="")return l(!0),await s.search(m,{hitsPerPage:11,facetFilters:[t,"project:browsershot"]}).then(h=>(l(!1),h.hits)).catch(h=>(l(!1),(0,D.showToast)(D.ToastStyle.Failure,"Error searching Spatie Browsershot Documentation",h.message),[]))};(0,k.useEffect)(()=>{(async()=>a(await f()))()},[]);let S=Ys[e.spatieBrowsershotVersion];return(0,T.jsx)(D.List,{throttle:!0,isLoading:i,onSearchTextChange:async m=>a(await f(m)),children:n?.map(m=>(0,T.jsx)(D.List.Item,{title:Ft(m),subtitle:Ht(m),icon:"spatie-icon.png",actions:(0,T.jsxs)(D.ActionPanel,{title:m.url,children:[(0,T.jsx)(D.OpenInBrowserAction,{url:m.url}),(0,T.jsx)(D.CopyToClipboardAction,{content:m.url,title:"Copy URL"})]})},m.objectID))||Object.entries(S).map(([m,h])=>(0,T.jsx)(D.List.Section,{title:m,children:h.map(b=>(0,T.jsx)(D.List.Item,{title:b.title,icon:"spatie-icon.png",actions:(0,T.jsxs)(D.ActionPanel,{title:b.url,children:[(0,T.jsx)(D.OpenInBrowserAction,{url:b.url}),(0,T.jsx)(D.CopyToClipboardAction,{content:b.url,title:"Copy URL"})]})},b.url))},m))})}
