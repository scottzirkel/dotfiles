var tr=Object.create;var L=Object.defineProperty,rr=Object.defineProperties,sr=Object.getOwnPropertyDescriptor,nr=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertyNames,ee=Object.getOwnPropertySymbols,or=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var De=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))ue.call(t,r)&&De(e,r,t[r]);if(ee)for(var r of ee(t))Oe.call(t,r)&&De(e,r,t[r]);return e},E=(e,t)=>rr(e,nr(t)),xe=e=>L(e,"__esModule",{value:!0});var j=(e,t)=>{var r={};for(var s in e)ue.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&ee)for(var s of ee(e))t.indexOf(s)<0&&Oe.call(e,s)&&(r[s]=e[s]);return r};var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ir=(e,t)=>{for(var r in t)L(e,r,{get:t[r],enumerable:!0})},je=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ar(t))!ue.call(e,n)&&(r||n!=="default")&&L(e,n,{get:()=>t[n],enumerable:!(s=sr(t,n))||s.enumerable});return e},Te=(e,t)=>je(xe(L(e!=null?tr(or(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),cr=(e=>(t,r)=>e&&e.get(t)||(r=je(xe({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Me=A(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});function K(e){let t=[...e.caches],r=t.shift();return r===void 0?Re():{get(s,n,o={miss:()=>Promise.resolve()}){return r.get(s,n,o).catch(()=>K({caches:t}).get(s,n,o))},set(s,n){return r.set(s,n).catch(()=>K({caches:t}).set(s,n))},delete(s){return r.delete(s).catch(()=>K({caches:t}).delete(s))},clear(){return r.clear().catch(()=>K({caches:t}).clear())}}}function Re(){return{get(e,t,r={miss:()=>Promise.resolve()}){return t().then(n=>Promise.all([n,r.miss(n)])).then(([n])=>n)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}te.createFallbackableCache=K;te.createNullCache=Re});var ke=A((dn,qe)=>{qe.exports=Me()});var Ce=A(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});function ur(e={serializable:!0}){let t={};return{get(r,s,n={miss:()=>Promise.resolve()}){let o=JSON.stringify(r);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);let a=s(),l=n&&n.miss||(()=>Promise.resolve());return a.then(g=>l(g)).then(()=>a)},set(r,s){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete(r){return delete t[JSON.stringify(r)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}le.createInMemoryCache=ur});var Ne=A((hn,Ue)=>{Ue.exports=Ce()});var We=A(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});function lr(e,t,r){let s={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers(){return e===de.WithinHeaders?s:{}},queryParameters(){return e===de.WithinQueryParameters?s:{}}}}function dr(e){let t=0,r=()=>(t++,new Promise(s=>{setTimeout(()=>{s(e(r))},Math.min(100*t,1e3))}));return e(r)}function _e(e,t=(r,s)=>Promise.resolve()){return Object.assign(e,{wait(r){return _e(e.then(s=>Promise.all([t(s,r),s])).then(s=>s[1]))}})}function pr(e){let t=e.length-1;for(t;t>0;t--){let r=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[r],e[r]=s}return e}function hr(e,t){return t&&Object.keys(t).forEach(r=>{e[r]=t[r](e)}),e}function mr(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}var gr="4.12.0",yr=e=>()=>e.transporter.requester.destroy(),de={WithinQueryParameters:0,WithinHeaders:1};q.AuthMode=de;q.addMethods=hr;q.createAuth=lr;q.createRetryablePromise=dr;q.createWaitablePromise=_e;q.destroy=yr;q.encode=mr;q.shuffle=pr;q.version=gr});var G=A((gn,Be)=>{Be.exports=We()});var ze=A(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});var fr={Delete:"DELETE",Get:"GET",Post:"POST",Put:"PUT"};pe.MethodEnum=fr});var V=A((fn,Fe)=>{Fe.exports=ze()});var st=A(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var Le=V();function he(e,t){let r=e||{},s=r.data||{};return Object.keys(r).forEach(n=>{["timeout","headers","queryParameters","data","cacheable"].indexOf(n)===-1&&(s[n]=r[n])}),{data:Object.entries(s).length>0?s:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var $={Read:1,Write:2,Any:3},W={Up:1,Down:2,Timeouted:3},Ke=2*60*1e3;function ge(e,t=W.Up){return E(d({},e),{status:t,lastUpdate:Date.now()})}function Ge(e){return e.status===W.Up||Date.now()-e.lastUpdate>Ke}function Ve(e){return e.status===W.Timeouted&&Date.now()-e.lastUpdate<=Ke}function ye(e){return typeof e=="string"?{protocol:"https",url:e,accept:$.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||$.Any}}function br(e,t){return Promise.all(t.map(r=>e.get(r,()=>Promise.resolve(ge(r))))).then(r=>{let s=r.filter(l=>Ge(l)),n=r.filter(l=>Ve(l)),o=[...s,...n],a=o.length>0?o.map(l=>ye(l)):t;return{getTimeout(l,g){return(n.length===0&&l===0?1:n.length+3+l)*g},statelessHosts:a}})}var Pr=({isTimedOut:e,status:t})=>!e&&~~t===0,Sr=e=>{let t=e.status;return e.isTimedOut||Pr(e)||~~(t/100)!==2&&~~(t/100)!==4},Er=({status:e})=>~~(e/100)===2,wr=(e,t)=>Sr(e)?t.onRetry(e):Er(e)?t.onSuccess(e):t.onFail(e);function He(e,t,r,s){let n=[],o=Ye(r,s),a=Ze(e,s),l=r.method,g=r.method!==Le.MethodEnum.Get?{}:d(d({},r.data),s.data),w=d(d(d({"x-algolia-agent":e.userAgent.value},e.queryParameters),g),s.queryParameters),y=0,p=(b,f)=>{let m=b.pop();if(m===void 0)throw rt(me(n));let S={data:o,headers:a,method:l,url:Je(m,r.path,w),connectTimeout:f(y,e.timeouts.connect),responseTimeout:f(y,s.timeout)},D=P=>{let R={request:S,response:P,host:m,triesLeft:b.length};return n.push(R),R},v={onSuccess:P=>$e(P),onRetry(P){let R=D(P);return P.isTimedOut&&y++,Promise.all([e.logger.info("Retryable failure",fe(R)),e.hostsCache.set(m,ge(m,P.isTimedOut?W.Timeouted:W.Down))]).then(()=>p(b,f))},onFail(P){throw D(P),Qe(P,me(n))}};return e.requester.send(S).then(P=>wr(P,v))};return br(e.hostsCache,t).then(b=>p([...b.statelessHosts].reverse(),b.getTimeout))}function vr(e){let{hostsCache:t,logger:r,requester:s,requestsCache:n,responsesCache:o,timeouts:a,userAgent:l,hosts:g,queryParameters:w,headers:y}=e,p={hostsCache:t,logger:r,requester:s,requestsCache:n,responsesCache:o,timeouts:a,userAgent:l,headers:y,queryParameters:w,hosts:g.map(b=>ye(b)),read(b,f){let m=he(f,p.timeouts.read),S=()=>He(p,p.hosts.filter(P=>(P.accept&$.Read)!==0),b,m);if((m.cacheable!==void 0?m.cacheable:b.cacheable)!==!0)return S();let v={request:b,mappedRequestOptions:m,transporter:{queryParameters:p.queryParameters,headers:p.headers}};return p.responsesCache.get(v,()=>p.requestsCache.get(v,()=>p.requestsCache.set(v,S()).then(P=>Promise.all([p.requestsCache.delete(v),P]),P=>Promise.all([p.requestsCache.delete(v),Promise.reject(P)])).then(([P,R])=>R)),{miss:P=>p.responsesCache.set(v,P)})},write(b,f){return He(p,p.hosts.filter(m=>(m.accept&$.Write)!==0),b,he(f,p.timeouts.write))}};return p}function Ar(e){let t={value:`Algolia for JavaScript (${e})`,add(r){let s=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return t.value.indexOf(s)===-1&&(t.value=`${t.value}${s}`),t}};return t}function $e(e){try{return JSON.parse(e.content)}catch(t){throw tt(t.message,e)}}function Qe({content:e,status:t},r){let s=e;try{s=JSON.parse(e).message}catch{}return et(s,t,r)}function Ir(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}function Je(e,t,r){let s=Xe(r),n=`${e.protocol}://${e.url}/${t.charAt(0)==="/"?t.substr(1):t}`;return s.length&&(n+=`?${s}`),n}function Xe(e){let t=r=>Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]";return Object.keys(e).map(r=>Ir("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])).join("&")}function Ye(e,t){if(e.method===Le.MethodEnum.Get||e.data===void 0&&t.data===void 0)return;let r=Array.isArray(e.data)?e.data:d(d({},e.data),t.data);return JSON.stringify(r)}function Ze(e,t){let r=d(d({},e.headers),t.headers),s={};return Object.keys(r).forEach(n=>{let o=r[n];s[n.toLowerCase()]=o}),s}function me(e){return e.map(t=>fe(t))}function fe(e){let t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return E(d({},e),{request:E(d({},e.request),{headers:d(d({},e.request.headers),t)})})}function et(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}function tt(e,t){return{name:"DeserializationError",message:e,response:t}}function rt(e){return{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:e}}I.CallEnum=$;I.HostStatusEnum=W;I.createApiError=et;I.createDeserializationError=tt;I.createMappedRequestOptions=he;I.createRetryError=rt;I.createStatefulHost=ge;I.createStatelessHost=ye;I.createTransporter=vr;I.createUserAgent=Ar;I.deserializeFailure=Qe;I.deserializeSuccess=$e;I.isStatefulHostTimeouted=Ve;I.isStatefulHostUp=Ge;I.serializeData=Ye;I.serializeHeaders=Ze;I.serializeQueryParameters=Xe;I.serializeUrl=Je;I.stackFrameWithoutCredentials=fe;I.stackTraceWithoutCredentials=me});var Q=A((Pn,nt)=>{nt.exports=st()});var at=A(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});var B=G(),Dr=Q(),J=V(),Or=e=>{let t=e.region||"us",r=B.createAuth(B.AuthMode.WithinHeaders,e.appId,e.apiKey),s=Dr.createTransporter(E(d({hosts:[{url:`analytics.${t}.algolia.com`}]},e),{headers:d(E(d({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:d(d({},r.queryParameters()),e.queryParameters)})),n=e.appId;return B.addMethods({appId:n,transporter:s},e.methods)},xr=e=>(t,r)=>e.transporter.write({method:J.MethodEnum.Post,path:"2/abtests",data:t},r),jr=e=>(t,r)=>e.transporter.write({method:J.MethodEnum.Delete,path:B.encode("2/abtests/%s",t)},r),Tr=e=>(t,r)=>e.transporter.read({method:J.MethodEnum.Get,path:B.encode("2/abtests/%s",t)},r),Rr=e=>t=>e.transporter.read({method:J.MethodEnum.Get,path:"2/abtests"},t),Mr=e=>(t,r)=>e.transporter.write({method:J.MethodEnum.Post,path:B.encode("2/abtests/%s/stop",t)},r);C.addABTest=xr;C.createAnalyticsClient=Or;C.deleteABTest=jr;C.getABTest=Tr;C.getABTests=Rr;C.stopABTest=Mr});var it=A((En,ot)=>{ot.exports=at()});var ut=A(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});var be=G(),qr=Q(),ct=V(),kr=e=>{let t=e.region||"us",r=be.createAuth(be.AuthMode.WithinHeaders,e.appId,e.apiKey),s=qr.createTransporter(E(d({hosts:[{url:`personalization.${t}.algolia.com`}]},e),{headers:d(E(d({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:d(d({},r.queryParameters()),e.queryParameters)}));return be.addMethods({appId:e.appId,transporter:s},e.methods)},Cr=e=>t=>e.transporter.read({method:ct.MethodEnum.Get,path:"1/strategies/personalization"},t),Ur=e=>(t,r)=>e.transporter.write({method:ct.MethodEnum.Post,path:"1/strategies/personalization",data:t},r);X.createPersonalizationClient=kr;X.getPersonalizationStrategy=Cr;X.setPersonalizationStrategy=Ur});var dt=A((vn,lt)=>{lt.exports=ut()});var It=A(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=G(),T=Q(),h=V(),Nr=require("crypto");function re(e){let t=r=>e.request(r).then(s=>{if(e.batch!==void 0&&e.batch(s.hits),!e.shouldStop(s))return s.cursor?t({cursor:s.cursor}):t({page:(r.page||0)+1})});return t({})}var _r=e=>{let t=e.appId,r=u.createAuth(e.authMode!==void 0?e.authMode:u.AuthMode.WithinHeaders,t,e.apiKey),s=T.createTransporter(E(d({hosts:[{url:`${t}-dsn.algolia.net`,accept:T.CallEnum.Read},{url:`${t}.algolia.net`,accept:T.CallEnum.Write}].concat(u.shuffle([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}]))},e),{headers:d(E(d({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:d(d({},r.queryParameters()),e.queryParameters)})),n={transporter:s,appId:t,addAlgoliaAgent(o,a){s.userAgent.add({segment:o,version:a})},clearCache(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then(()=>{})}};return u.addMethods(n,e.methods)};function pt(){return{name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}}function ht(){return{name:"ObjectNotFoundError",message:"Object not found."}}function mt(){return{name:"ValidUntilNotFoundError",message:"ValidUntil not found in given secured api key."}}var Wr=e=>(t,r)=>{let l=r||{},{queryParameters:s}=l,n=j(l,["queryParameters"]),o=d({acl:t},s!==void 0?{queryParameters:s}:{}),a=(g,w)=>u.createRetryablePromise(y=>Y(e)(g.key,w).catch(p=>{if(p.status!==404)throw p;return y()}));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:"1/keys",data:o},n),a)},Br=e=>(t,r,s)=>{let n=T.createMappedRequestOptions(s);return n.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:h.MethodEnum.Post,path:"1/clusters/mapping",data:{cluster:r}},n)},zr=e=>(t,r,s)=>e.transporter.write({method:h.MethodEnum.Post,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},s),Fr=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(s,n)=>z(e)(s.taskID,n)),se=e=>(t,r,s)=>{let n=(o,a)=>Z(e)(t,{methods:{waitTask:O}}).waitTask(o.taskID,a);return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},s),n)},Hr=e=>(t,r,s)=>se(e)(t,r,E(d({},s),{scope:[ae.Rules]})),Lr=e=>(t,r,s)=>se(e)(t,r,E(d({},s),{scope:[ae.Settings]})),Kr=e=>(t,r,s)=>se(e)(t,r,E(d({},s),{scope:[ae.Synonyms]})),Gr=e=>(t,r)=>t.method===h.MethodEnum.Get?e.transporter.read(t,r):e.transporter.write(t,r),Vr=e=>(t,r)=>{let s=(n,o)=>u.createRetryablePromise(a=>Y(e)(t,o).then(a).catch(l=>{if(l.status!==404)throw l}));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Delete,path:u.encode("1/keys/%s",t)},r),s)},$r=e=>(t,r,s)=>{let n=r.map(o=>({action:"deleteEntry",body:{objectID:o}}));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:n}},s),(o,a)=>z(e)(o.taskID,a))},Qr=()=>(e,t)=>{let r=T.serializeQueryParameters(t),s=Nr.createHmac("sha256",e).update(r).digest("hex");return Buffer.from(s+r).toString("base64")},Y=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/keys/%s",t)},r),gt=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/task/%s",t.toString())},r),Jr=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"/1/dictionaries/*/settings"},t),Xr=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"1/logs"},t),Yr=()=>e=>{let t=Buffer.from(e,"base64").toString("ascii"),r=/validUntil=(\d+)/,s=t.match(r);if(s===null)throw mt();return parseInt(s[1],10)-Math.round(new Date().getTime()/1e3)},Zr=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"1/clusters/mapping/top"},t),es=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/clusters/mapping/%s",t)},r),ts=e=>t=>{let n=t||{},{retrieveMappings:r}=n,s=j(n,["retrieveMappings"]);return r===!0&&(s.getClusters=!0),e.transporter.read({method:h.MethodEnum.Get,path:"1/clusters/mapping/pending"},s)},Z=e=>(t,r={})=>{let s={transporter:e.transporter,appId:e.appId,indexName:t};return u.addMethods(s,r.methods)},rs=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"1/keys"},t),ss=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"1/clusters"},t),ns=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"1/indexes"},t),as=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:"1/clusters/mapping"},t),os=e=>(t,r,s)=>{let n=(o,a)=>Z(e)(t,{methods:{waitTask:O}}).waitTask(o.taskID,a);return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},s),n)},is=e=>(t,r)=>{let s=(n,o)=>Promise.all(Object.keys(n.taskID).map(a=>Z(e)(a,{methods:{waitTask:O}}).waitTask(n.taskID[a],o)));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:"1/indexes/*/batch",data:{requests:t}},r),s)},cs=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:t}},r),us=e=>(t,r)=>{let s=t.map(n=>E(d({},n),{params:T.serializeQueryParameters(n.params||{})}));return e.transporter.read({method:h.MethodEnum.Post,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},r)},ls=e=>(t,r)=>Promise.all(t.map(s=>{let l=s.params,{facetName:n,facetQuery:o}=l,a=j(l,["facetName","facetQuery"]);return Z(e)(s.indexName,{methods:{searchForFacetValues:wt}}).searchForFacetValues(n,o,d(d({},r),a))})),ds=e=>(t,r)=>{let s=T.createMappedRequestOptions(r);return s.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:h.MethodEnum.Delete,path:"1/clusters/mapping"},s)},ps=e=>(t,r,s)=>{let n=r.map(o=>({action:"addEntry",body:o}));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:n}},s),(o,a)=>z(e)(o.taskID,a))},hs=e=>(t,r)=>{let s=(n,o)=>u.createRetryablePromise(a=>Y(e)(t,o).catch(l=>{if(l.status!==404)throw l;return a()}));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/keys/%s/restore",t)},r),s)},ms=e=>(t,r,s)=>{let n=r.map(o=>({action:"addEntry",body:o}));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:n}},s),(o,a)=>z(e)(o.taskID,a))},gs=e=>(t,r,s)=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("/1/dictionaries/%s/search",t),data:{query:r},cacheable:!0},s),ys=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Post,path:"1/clusters/mapping/search",data:{query:t}},r),fs=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Put,path:"/1/dictionaries/*/settings",data:t},r),(s,n)=>z(e)(s.taskID,n)),bs=e=>(t,r)=>{let s=Object.assign({},r),y=r||{},{queryParameters:n}=y,o=j(y,["queryParameters"]),a=n?{queryParameters:n}:{},l=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"],g=p=>Object.keys(s).filter(b=>l.indexOf(b)!==-1).every(b=>p[b]===s[b]),w=(p,b)=>u.createRetryablePromise(f=>Y(e)(t,b).then(m=>g(m)?Promise.resolve():f()));return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Put,path:u.encode("1/keys/%s",t),data:a},o),w)},z=e=>(t,r)=>u.createRetryablePromise(s=>gt(e)(t,r).then(n=>n.status!=="published"?s():void 0)),yt=e=>(t,r)=>{let s=(n,o)=>O(e)(n.taskID,o);return u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),s)},Ps=e=>t=>re(E(d({shouldStop:r=>r.cursor===void 0},t),{request:r=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/browse",e.indexName),data:r},t)})),Ss=e=>t=>{let r=d({hitsPerPage:1e3},t);return re(E(d({shouldStop:s=>s.hits.length<r.hitsPerPage},r),{request(s){return vt(e)("",d(d({},r),s)).then(n=>E(d({},n),{hits:n.hits.map(o=>(delete o._highlightResult,o))}))}}))},Es=e=>t=>{let r=d({hitsPerPage:1e3},t);return re(E(d({shouldStop:s=>s.hits.length<r.hitsPerPage},r),{request(s){return At(e)("",d(d({},r),s)).then(n=>E(d({},n),{hits:n.hits.map(o=>(delete o._highlightResult,o))}))}}))},ne=e=>(t,r,s)=>{let g=s||{},{batchSize:n}=g,o=j(g,["batchSize"]),a={taskIDs:[],objectIDs:[]},l=(w=0)=>{let y=[],p;for(p=w;p<t.length&&(y.push(t[p]),y.length!==(n||1e3));p++);return y.length===0?Promise.resolve(a):yt(e)(y.map(b=>({action:r,body:b})),o).then(b=>(a.objectIDs=a.objectIDs.concat(b.objectIDs),a.taskIDs.push(b.taskID),p++,l(p)))};return u.createWaitablePromise(l(),(w,y)=>Promise.all(w.taskIDs.map(p=>O(e)(p,y))))},ws=e=>t=>u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/clear",e.indexName)},t),(r,s)=>O(e)(r.taskID,s)),vs=e=>t=>{let o=t||{},{forwardToReplicas:r}=o,s=j(o,["forwardToReplicas"]),n=T.createMappedRequestOptions(s);return r&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/clear",e.indexName)},n),(a,l)=>O(e)(a.taskID,l))},As=e=>t=>{let o=t||{},{forwardToReplicas:r}=o,s=j(o,["forwardToReplicas"]),n=T.createMappedRequestOptions(s);return r&&(n.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/clear",e.indexName)},n),(a,l)=>O(e)(a.taskID,l))},Is=e=>(t,r)=>u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(s,n)=>O(e)(s.taskID,n)),Ds=e=>t=>u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Delete,path:u.encode("1/indexes/%s",e.indexName)},t),(r,s)=>O(e)(r.taskID,s)),Os=e=>(t,r)=>u.createWaitablePromise(ft(e)([t],r).then(s=>({taskID:s.taskIDs[0]})),(s,n)=>O(e)(s.taskID,n)),ft=e=>(t,r)=>{let s=t.map(n=>({objectID:n}));return ne(e)(s,N.DeleteObject,r)},xs=e=>(t,r)=>{let a=r||{},{forwardToReplicas:s}=a,n=j(a,["forwardToReplicas"]),o=T.createMappedRequestOptions(n);return s&&(o.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Delete,path:u.encode("1/indexes/%s/rules/%s",e.indexName,t)},o),(l,g)=>O(e)(l.taskID,g))},js=e=>(t,r)=>{let a=r||{},{forwardToReplicas:s}=a,n=j(a,["forwardToReplicas"]),o=T.createMappedRequestOptions(n);return s&&(o.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Delete,path:u.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},o),(l,g)=>O(e)(l.taskID,g))},Ts=e=>t=>bt(e)(t).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),Rs=e=>(t,r,s)=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},s),Ms=e=>(t,r)=>{let g=r||{},{query:s,paginate:n}=g,o=j(g,["query","paginate"]),a=0,l=()=>Et(e)(s||"",E(d({},o),{page:a})).then(w=>{for(let[y,p]of Object.entries(w.hits))if(t(p))return{object:p,position:parseInt(y,10),page:a};if(a++,n===!1||a>=w.nbPages)throw ht();return l()});return l()},qs=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/indexes/%s/%s",e.indexName,t)},r),ks=()=>(e,t)=>{for(let[r,s]of Object.entries(e.hits))if(s.objectID===t)return parseInt(r,10);return-1},Cs=e=>(t,r)=>{let a=r||{},{attributesToRetrieve:s}=a,n=j(a,["attributesToRetrieve"]),o=t.map(l=>d({indexName:e.indexName,objectID:l},s?{attributesToRetrieve:s}:{}));return e.transporter.read({method:h.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:o}},n)},Us=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/indexes/%s/rules/%s",e.indexName,t)},r),bt=e=>t=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t),Ns=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},r),Pt=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Get,path:u.encode("1/indexes/%s/task/%s",e.indexName,t.toString())},r),_s=e=>(t,r)=>u.createWaitablePromise(St(e)([t],r).then(s=>({objectID:s.objectIDs[0],taskID:s.taskIDs[0]})),(s,n)=>O(e)(s.taskID,n)),St=e=>(t,r)=>{let a=r||{},{createIfNotExists:s}=a,n=j(a,["createIfNotExists"]),o=s?N.PartialUpdateObject:N.PartialUpdateObjectNoCreate;return ne(e)(t,o,n)},Ws=e=>(t,r)=>{let m=r||{},{safe:s,autoGenerateObjectIDIfNotExist:n,batchSize:o}=m,a=j(m,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),l=(S,D,v,P)=>u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/operation",S),data:{operation:v,destination:D}},P),(R,k)=>O(e)(R.taskID,k)),g=Math.random().toString(36).substring(7),w=`${e.indexName}_tmp_${g}`,y=Pe({appId:e.appId,transporter:e.transporter,indexName:w}),p=[],b=l(e.indexName,w,"copy",E(d({},a),{scope:["settings","synonyms","rules"]}));p.push(b);let f=(s?b.wait(a):b).then(()=>{let S=y(t,E(d({},a),{autoGenerateObjectIDIfNotExist:n,batchSize:o}));return p.push(S),s?S.wait(a):S}).then(()=>{let S=l(w,e.indexName,"move",a);return p.push(S),s?S.wait(a):S}).then(()=>Promise.all(p)).then(([S,D,v])=>({objectIDs:D.objectIDs,taskIDs:[S.taskID,...D.taskIDs,v.taskID]}));return u.createWaitablePromise(f,(S,D)=>Promise.all(p.map(v=>v.wait(D))))},Bs=e=>(t,r)=>Se(e)(t,E(d({},r),{clearExistingRules:!0})),zs=e=>(t,r)=>Ee(e)(t,E(d({},r),{clearExistingSynonyms:!0})),Fs=e=>(t,r)=>u.createWaitablePromise(Pe(e)([t],r).then(s=>({objectID:s.objectIDs[0],taskID:s.taskIDs[0]})),(s,n)=>O(e)(s.taskID,n)),Pe=e=>(t,r)=>{let a=r||{},{autoGenerateObjectIDIfNotExist:s}=a,n=j(a,["autoGenerateObjectIDIfNotExist"]),o=s?N.AddObject:N.UpdateObject;if(o===N.UpdateObject){for(let l of t)if(l.objectID===void 0)return u.createWaitablePromise(Promise.reject(pt()))}return ne(e)(t,o,n)},Hs=e=>(t,r)=>Se(e)([t],r),Se=e=>(t,r)=>{let l=r||{},{forwardToReplicas:s,clearExistingRules:n}=l,o=j(l,["forwardToReplicas","clearExistingRules"]),a=T.createMappedRequestOptions(o);return s&&(a.queryParameters.forwardToReplicas=1),n&&(a.queryParameters.clearExistingRules=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/batch",e.indexName),data:t},a),(g,w)=>O(e)(g.taskID,w))},Ls=e=>(t,r)=>Ee(e)([t],r),Ee=e=>(t,r)=>{let g=r||{},{forwardToReplicas:s,clearExistingSynonyms:n,replaceExistingSynonyms:o}=g,a=j(g,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]),l=T.createMappedRequestOptions(a);return s&&(l.queryParameters.forwardToReplicas=1),(o||n)&&(l.queryParameters.replaceExistingSynonyms=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/batch",e.indexName),data:t},l),(w,y)=>O(e)(w.taskID,y))},Et=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r),wt=e=>(t,r,s)=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},s),vt=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r),At=e=>(t,r)=>e.transporter.read({method:h.MethodEnum.Post,path:u.encode("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r),Ks=e=>(t,r)=>{let a=r||{},{forwardToReplicas:s}=a,n=j(a,["forwardToReplicas"]),o=T.createMappedRequestOptions(n);return s&&(o.queryParameters.forwardToReplicas=1),u.createWaitablePromise(e.transporter.write({method:h.MethodEnum.Put,path:u.encode("1/indexes/%s/settings",e.indexName),data:t},o),(l,g)=>O(e)(l.taskID,g))},O=e=>(t,r)=>u.createRetryablePromise(s=>Pt(e)(t,r).then(n=>n.status!=="published"?s():void 0)),Gs={AddObject:"addObject",Analytics:"analytics",Browser:"browse",DeleteIndex:"deleteIndex",DeleteObject:"deleteObject",EditSettings:"editSettings",ListIndexes:"listIndexes",Logs:"logs",Personalization:"personalization",Recommendation:"recommendation",Search:"search",SeeUnretrievableAttributes:"seeUnretrievableAttributes",Settings:"settings",Usage:"usage"},N={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ae={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Vs={None:"none",StopIfEnoughMatches:"stopIfEnoughMatches"},$s={Synonym:"synonym",OneWaySynonym:"oneWaySynonym",AltCorrection1:"altCorrection1",AltCorrection2:"altCorrection2",Placeholder:"placeholder"};i.ApiKeyACLEnum=Gs;i.BatchActionEnum=N;i.ScopeEnum=ae;i.StrategyEnum=Vs;i.SynonymEnum=$s;i.addApiKey=Wr;i.assignUserID=Br;i.assignUserIDs=zr;i.batch=yt;i.browseObjects=Ps;i.browseRules=Ss;i.browseSynonyms=Es;i.chunkedBatch=ne;i.clearDictionaryEntries=Fr;i.clearObjects=ws;i.clearRules=vs;i.clearSynonyms=As;i.copyIndex=se;i.copyRules=Hr;i.copySettings=Lr;i.copySynonyms=Kr;i.createBrowsablePromise=re;i.createMissingObjectIDError=pt;i.createObjectNotFoundError=ht;i.createSearchClient=_r;i.createValidUntilNotFoundError=mt;i.customRequest=Gr;i.deleteApiKey=Vr;i.deleteBy=Is;i.deleteDictionaryEntries=$r;i.deleteIndex=Ds;i.deleteObject=Os;i.deleteObjects=ft;i.deleteRule=xs;i.deleteSynonym=js;i.exists=Ts;i.findAnswers=Rs;i.findObject=Ms;i.generateSecuredApiKey=Qr;i.getApiKey=Y;i.getAppTask=gt;i.getDictionarySettings=Jr;i.getLogs=Xr;i.getObject=qs;i.getObjectPosition=ks;i.getObjects=Cs;i.getRule=Us;i.getSecuredApiKeyRemainingValidity=Yr;i.getSettings=bt;i.getSynonym=Ns;i.getTask=Pt;i.getTopUserIDs=Zr;i.getUserID=es;i.hasPendingMappings=ts;i.initIndex=Z;i.listApiKeys=rs;i.listClusters=ss;i.listIndices=ns;i.listUserIDs=as;i.moveIndex=os;i.multipleBatch=is;i.multipleGetObjects=cs;i.multipleQueries=us;i.multipleSearchForFacetValues=ls;i.partialUpdateObject=_s;i.partialUpdateObjects=St;i.removeUserID=ds;i.replaceAllObjects=Ws;i.replaceAllRules=Bs;i.replaceAllSynonyms=zs;i.replaceDictionaryEntries=ps;i.restoreApiKey=hs;i.saveDictionaryEntries=ms;i.saveObject=Fs;i.saveObjects=Pe;i.saveRule=Hs;i.saveRules=Se;i.saveSynonym=Ls;i.saveSynonyms=Ee;i.search=Et;i.searchDictionaryEntries=gs;i.searchForFacetValues=wt;i.searchRules=vt;i.searchSynonyms=At;i.searchUserIDs=ys;i.setDictionarySettings=fs;i.setSettings=Ks;i.updateApiKey=bs;i.waitAppTask=z;i.waitTask=O});var Ot=A((In,Dt)=>{Dt.exports=It()});var xt=A(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});function Qs(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var Js={Debug:1,Info:2,Error:3};oe.LogLevelEnum=Js;oe.createNullLogger=Qs});var Tt=A((On,jt)=>{jt.exports=xt()});var kt=A(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var Rt=require("http"),Mt=require("https"),Xs=require("url"),qt={keepAlive:!0},Ys=new Rt.Agent(qt),Zs=new Mt.Agent(qt);function en({agent:e,httpAgent:t,httpsAgent:r,requesterOptions:s={}}={}){let n=t||e||Ys,o=r||e||Zs;return{send(a){return new Promise(l=>{let g=Xs.parse(a.url),w=g.query===null?g.pathname:`${g.pathname}?${g.query}`,y=d(E(d({},s),{agent:g.protocol==="https:"?o:n,hostname:g.hostname,path:w,method:a.method,headers:d(d({},s&&s.headers?s.headers:{}),a.headers)}),g.port!==void 0?{port:g.port||""}:{}),p=(g.protocol==="https:"?Mt:Rt).request(y,S=>{let D=[];S.on("data",v=>{D=D.concat(v)}),S.on("end",()=>{clearTimeout(f),clearTimeout(m),l({status:S.statusCode||0,content:Buffer.concat(D).toString(),isTimedOut:!1})})}),b=(S,D)=>setTimeout(()=>{p.abort(),l({status:0,content:D,isTimedOut:!0})},S*1e3),f=b(a.connectTimeout,"Connection timeout"),m;p.on("error",S=>{clearTimeout(f),clearTimeout(m),l({status:0,content:S.message,isTimedOut:!1})}),p.once("response",()=>{clearTimeout(f),m=b(a.responseTimeout,"Socket timeout")}),a.data!==void 0&&p.write(a.data),p.end()})},destroy(){return n.destroy(),o.destroy(),Promise.resolve()}}}we.createNodeHttpRequester=en});var Ut=A((jn,Ct)=>{Ct.exports=kt()});var Bt=A((Tn,Wt)=>{"use strict";var Nt=ke(),tn=Ne(),F=it(),Ae=G(),ve=dt(),c=Ot(),rn=Tt(),sn=Ut(),nn=Q();function _t(e,t,r){let s={appId:e,apiKey:t,timeouts:{connect:2,read:5,write:30},requester:sn.createNodeHttpRequester(),logger:rn.createNullLogger(),responsesCache:Nt.createNullCache(),requestsCache:Nt.createNullCache(),hostsCache:tn.createInMemoryCache(),userAgent:nn.createUserAgent(Ae.version).add({segment:"Node.js",version:process.versions.node})},n=d(d({},s),r),o=()=>a=>ve.createPersonalizationClient(E(d(d({},s),a),{methods:{getPersonalizationStrategy:ve.getPersonalizationStrategy,setPersonalizationStrategy:ve.setPersonalizationStrategy}}));return c.createSearchClient(E(d({},n),{methods:{search:c.multipleQueries,searchForFacetValues:c.multipleSearchForFacetValues,multipleBatch:c.multipleBatch,multipleGetObjects:c.multipleGetObjects,multipleQueries:c.multipleQueries,copyIndex:c.copyIndex,copySettings:c.copySettings,copyRules:c.copyRules,copySynonyms:c.copySynonyms,moveIndex:c.moveIndex,listIndices:c.listIndices,getLogs:c.getLogs,listClusters:c.listClusters,multipleSearchForFacetValues:c.multipleSearchForFacetValues,getApiKey:c.getApiKey,addApiKey:c.addApiKey,listApiKeys:c.listApiKeys,updateApiKey:c.updateApiKey,deleteApiKey:c.deleteApiKey,restoreApiKey:c.restoreApiKey,assignUserID:c.assignUserID,assignUserIDs:c.assignUserIDs,getUserID:c.getUserID,searchUserIDs:c.searchUserIDs,listUserIDs:c.listUserIDs,getTopUserIDs:c.getTopUserIDs,removeUserID:c.removeUserID,hasPendingMappings:c.hasPendingMappings,generateSecuredApiKey:c.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:c.getSecuredApiKeyRemainingValidity,destroy:Ae.destroy,clearDictionaryEntries:c.clearDictionaryEntries,deleteDictionaryEntries:c.deleteDictionaryEntries,getDictionarySettings:c.getDictionarySettings,getAppTask:c.getAppTask,replaceDictionaryEntries:c.replaceDictionaryEntries,saveDictionaryEntries:c.saveDictionaryEntries,searchDictionaryEntries:c.searchDictionaryEntries,setDictionarySettings:c.setDictionarySettings,waitAppTask:c.waitAppTask,customRequest:c.customRequest,initIndex:a=>l=>c.initIndex(a)(l,{methods:{batch:c.batch,delete:c.deleteIndex,findAnswers:c.findAnswers,getObject:c.getObject,getObjects:c.getObjects,saveObject:c.saveObject,saveObjects:c.saveObjects,search:c.search,searchForFacetValues:c.searchForFacetValues,waitTask:c.waitTask,setSettings:c.setSettings,getSettings:c.getSettings,partialUpdateObject:c.partialUpdateObject,partialUpdateObjects:c.partialUpdateObjects,deleteObject:c.deleteObject,deleteObjects:c.deleteObjects,deleteBy:c.deleteBy,clearObjects:c.clearObjects,browseObjects:c.browseObjects,getObjectPosition:c.getObjectPosition,findObject:c.findObject,exists:c.exists,saveSynonym:c.saveSynonym,saveSynonyms:c.saveSynonyms,getSynonym:c.getSynonym,searchSynonyms:c.searchSynonyms,browseSynonyms:c.browseSynonyms,deleteSynonym:c.deleteSynonym,clearSynonyms:c.clearSynonyms,replaceAllObjects:c.replaceAllObjects,replaceAllSynonyms:c.replaceAllSynonyms,searchRules:c.searchRules,getRule:c.getRule,deleteRule:c.deleteRule,saveRule:c.saveRule,saveRules:c.saveRules,replaceAllRules:c.replaceAllRules,browseRules:c.browseRules,clearRules:c.clearRules}}),initAnalytics:()=>a=>F.createAnalyticsClient(E(d(d({},s),a),{methods:{addABTest:F.addABTest,getABTest:F.getABTest,getABTests:F.getABTests,stopABTest:F.stopABTest,deleteABTest:F.deleteABTest}})),initPersonalization:o,initRecommendation:()=>a=>(n.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),o()(a))}}))}_t.version=Ae.version;Wt.exports=_t});var Ft=A((Rn,Ie)=>{var zt=Bt();Ie.exports=zt;Ie.exports.default=zt});var Lt=A((Mn,Ht)=>{Ht.exports=Ft()});var Gt=A((Kt,ie)=>{"use strict";(function(e){if(typeof t!="function"){var t=function(f){return f};t.nonNative=!0}let r=t("plaintext"),s=t("html"),n=t("comment"),o=/<(\w*)>/g,a=/<\/?([^\s\/>]+)/;function l(f,m,S){f=f||"",m=m||[],S=S||"";let D=w(m,S);return y(f,D)}function g(f,m){f=f||[],m=m||"";let S=w(f,m);return function(v){return y(v||"",S)}}l.init_streaming_mode=g;function w(f,m){return f=p(f),{allowable_tags:f,tag_replacement:m,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function y(f,m){if(typeof f!="string")throw new TypeError("'html' parameter must be a string");let S=m.allowable_tags,D=m.tag_replacement,v=m.state,P=m.tag_buffer,R=m.depth,k=m.in_quote_char,H="";for(let ce=0,er=f.length;ce<er;ce++){let M=f[ce];if(v===r)switch(M){case"<":v=s,P+=M;break;default:H+=M;break}else if(v===s)switch(M){case"<":if(k)break;R++;break;case">":if(k)break;if(R){R--;break}k="",v=r,P+=">",S.has(b(P))?H+=P:H+=D,P="";break;case'"':case"'":M===k?k="":k=k||M,P+=M;break;case"-":P==="<!-"&&(v=n),P+=M;break;case" ":case`
`:if(P==="<"){v=r,H+="< ",P="";break}P+=M;break;default:P+=M;break}else if(v===n)switch(M){case">":P.slice(-2)=="--"&&(v=r),P="";break;default:P+=M;break}}return m.state=v,m.tag_buffer=P,m.depth=R,m.in_quote_char=k,H}function p(f){let m=new Set;if(typeof f=="string"){let S;for(;S=o.exec(f);)m.add(S[1])}else!t.nonNative&&typeof f[t.iterator]=="function"?m=new Set(f):typeof f.forEach=="function"&&f.forEach(m.add,m);return m}function b(f){let m=a.exec(f);return m?m[1].toLowerCase():null}typeof define=="function"&&define.amd?define(function(){return l}):typeof ie=="object"&&ie.exports?ie.exports=l:e.striptags=l})(Kt)});var Xt=A((Cn,an)=>{an.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/browsershot/v2/introduction"},{title:"Support Us",url:"https://spatie.be/docs/browsershot/v2/support-us"},{title:"Requirements",url:"https://spatie.be/docs/browsershot/v2/requirements"},{title:"Installation & setup",url:"https://spatie.be/docs/browsershot/v2/installation-setup"},{title:"Questions and issues",url:"https://spatie.be/docs/browsershot/v2/questions-issues"},{title:"Changelog",url:"https://spatie.be/docs/browsershot/v2/changelog"},{title:"About us",url:"https://spatie.be/docs/browsershot/v2/about-us"}],USAGE:[{title:"Introduction",url:"https://spatie.be/docs/browsershot/v2/usage/introduction"},{title:"Creating images",url:"https://spatie.be/docs/browsershot/v2/usage/creating-images"},{title:"Creating PDFs",url:"https://spatie.be/docs/browsershot/v2/usage/creating-pdfs"},{title:"Creating HTML",url:"https://spatie.be/docs/browsershot/v2/usage/creating-html"}],"MISCELLANEOUS OPTIONS":[{title:"Adding extra headers to every request",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/adding-extra-headers-to-every-request"},{title:"Adding extra headers to the navigational request",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/adding-extra-headers-to-the-navigational-request"},{title:"Changing the language of the browser",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/changing-the-language-of-the-browser"},{title:"Changing the value of a dropdown",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/changing-the-value-of-a-dropdown"},{title:"Clicking on the page",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/clicking-on-the-page"},{title:"Connection to a remote chromium/chrome instance",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/connection-to-a-remote-chrome-instance"},{title:"Disable sandboxing",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/disable-sandboxing"},{title:"Fixing cors issues",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/fixing-cors-options"},{title:"Ignore HTTPS errors",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/ignore-https-errors"},{title:"Passing environment variables to the browser",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/passing-environment-variables-to-the-browser"},{title:"Prevent unsuccessful responses",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/prevent-unsuccessful-responses"},{title:"Sending POST requests",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/sending-post-requests"},{title:"Setting an arbitrary option",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-an-arbirary-option"},{title:"Setting the CSS media type of the page",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-the-css-media-type-of-the-page"},{title:"Setting the timeout",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-the-timeout"},{title:"Setting the user agent",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/setting-the-user-agent"},{title:"Specifying-a-proxy-server",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/specifying-a-proxy-server"},{title:"Typing on the page",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/typing-on-the-page"},{title:"Using a pipe instead of a WebSocket",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/using-a-pipe-instead-of-a-websocket"},{title:"Using cookies",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/using-cookies"},{title:"Using HTTP Authentication",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/using-http-authentication"},{title:"Writing options to a file",url:"https://spatie.be/docs/browsershot/v2/miscellaneous-options/writing-options-to-a-file"}]}});var cn={};ir(cn,{default:()=>Zt});var x=require("@raycast/api"),U=require("react"),Yt=Te(Lt());var _={app_id:"BH4D9OD16A",api_key:"7a1f56fb06bd42e657e82bdafe86cef3",index:"spatie_be"};var Vt=Te(Gt());function $t(e){return Object.values(e).filter(t=>t).map(t=>t.replace("&amp;","&").replace("# #",""))}function Qt(e){return $t(e.hierarchy).pop()||""}function Jt(e){let t=(0,Vt.default)(e._highlightResult?.content?.value||"");if(t)return t;let r=$t(e.hierarchy)||[];return r.pop(),r.length?`-> ${r.join(" > ")}`:""}var on={v2:Xt()};function Zt(){let e=(0,x.getPreferenceValues)(),t="version:"+e.spatieBrowsershotVersion,r=(0,U.useMemo)(()=>(0,Yt.default)(_.app_id,_.api_key),[_.app_id,_.api_key]),s=(0,U.useMemo)(()=>r.initIndex(_.index),[r,_.index]),[n,o]=(0,U.useState)(),[a,l]=(0,U.useState)(!1),g=async(y="")=>{if(y!=="")return l(!0),await s.search(y,{hitsPerPage:11,facetFilters:[t,"project:browsershot"]}).then(p=>(l(!1),p.hits)).catch(p=>(l(!1),(0,x.showToast)(x.ToastStyle.Failure,"Error searching Spatie Browsershot Documentation",p.message),[]))};(0,U.useEffect)(()=>{(async()=>o(await g()))()},[]);let w=on[e.spatieBrowsershotVersion];return _jsx(x.List,{throttle:!0,isLoading:a,onSearchTextChange:async y=>o(await g(y))},n?.map(y=>_jsx(x.List.Item,{key:y.objectID,title:Qt(y),subtitle:Jt(y),icon:"spatie-icon.png",actions:_jsx(x.ActionPanel,{title:y.url},_jsx(x.OpenInBrowserAction,{url:y.url}),_jsx(x.CopyToClipboardAction,{content:y.url,title:"Copy URL"}))}))||Object.entries(w).map(([y,p])=>_jsx(x.List.Section,{title:y,key:y},p.map(b=>_jsx(x.List.Item,{key:b.url,title:b.title,icon:"spatie-icon.png",actions:_jsx(x.ActionPanel,{title:b.url},_jsx(x.OpenInBrowserAction,{url:b.url}),_jsx(x.CopyToClipboardAction,{content:b.url,title:"Copy URL"}))})))))}module.exports=cr(cn);0&&(module.exports={});
