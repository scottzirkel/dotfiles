var ar=Object.create;var F=Object.defineProperty,ir=Object.defineProperties,nr=Object.getOwnPropertyDescriptor,or=Object.getOwnPropertyDescriptors,cr=Object.getOwnPropertyNames,ee=Object.getOwnPropertySymbols,lr=Object.getPrototypeOf,le=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Oe=(e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))le.call(t,r)&&Oe(e,r,t[r]);if(ee)for(var r of ee(t))xe.call(t,r)&&Oe(e,r,t[r]);return e},E=(e,t)=>ir(e,or(t)),je=e=>F(e,"__esModule",{value:!0});var w=(e,t)=>{var r={};for(var s in e)le.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&ee)for(var s of ee(e))t.indexOf(s)<0&&xe.call(e,s)&&(r[s]=e[s]);return r};var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ur=(e,t)=>{for(var r in t)F(e,r,{get:t[r],enumerable:!0})},we=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of cr(t))!le.call(e,a)&&(r||a!=="default")&&F(e,a,{get:()=>t[a],enumerable:!(s=nr(t,a))||s.enumerable});return e},Te=(e,t)=>we(je(F(e!=null?ar(lr(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),pr=(e=>(t,r)=>e&&e.get(t)||(r=we(je({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Me=I(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});function K(e){let t=[...e.caches],r=t.shift();return r===void 0?Re():{get(s,a,n={miss:()=>Promise.resolve()}){return r.get(s,a,n).catch(()=>K({caches:t}).get(s,a,n))},set(s,a){return r.set(s,a).catch(()=>K({caches:t}).set(s,a))},delete(s){return r.delete(s).catch(()=>K({caches:t}).delete(s))},clear(){return r.clear().catch(()=>K({caches:t}).clear())}}}function Re(){return{get(e,t,r={miss:()=>Promise.resolve()}){return t().then(a=>Promise.all([a,r.miss(a)])).then(([a])=>a)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}te.createFallbackableCache=K;te.createNullCache=Re});var Ue=I((va,qe)=>{qe.exports=Me()});var Ce=I(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});function dr(e={serializable:!0}){let t={};return{get(r,s,a={miss:()=>Promise.resolve()}){let n=JSON.stringify(r);if(n in t)return Promise.resolve(e.serializable?JSON.parse(t[n]):t[n]);let i=s(),u=a&&a.miss||(()=>Promise.resolve());return i.then(g=>u(g)).then(()=>i)},set(r,s){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete(r){return delete t[JSON.stringify(r)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}ue.createInMemoryCache=dr});var Ne=I((ya,ke)=>{ke.exports=Ce()});var Be=I(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});function mr(e,t,r){let s={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers(){return e===pe.WithinHeaders?s:{}},queryParameters(){return e===pe.WithinQueryParameters?s:{}}}}function hr(e){let t=0,r=()=>(t++,new Promise(s=>{setTimeout(()=>{s(e(r))},Math.min(100*t,1e3))}));return e(r)}function _e(e,t=(r,s)=>Promise.resolve()){return Object.assign(e,{wait(r){return _e(e.then(s=>Promise.all([t(s,r),s])).then(s=>s[1]))}})}function gr(e){let t=e.length-1;for(t;t>0;t--){let r=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[r],e[r]=s}return e}function vr(e,t){return t&&Object.keys(t).forEach(r=>{e[r]=t[r](e)}),e}function br(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}var yr="4.12.0",fr=e=>()=>e.transporter.requester.destroy(),pe={WithinQueryParameters:0,WithinHeaders:1};q.AuthMode=pe;q.addMethods=vr;q.createAuth=mr;q.createRetryablePromise=hr;q.createWaitablePromise=_e;q.destroy=fr;q.encode=br;q.shuffle=gr;q.version=yr});var H=I((Pa,We)=>{We.exports=Be()});var Le=I(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var Pr={Delete:"DELETE",Get:"GET",Post:"POST",Put:"PUT"};de.MethodEnum=Pr});var V=I((Sa,Ge)=>{Ge.exports=Le()});var st=I(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var Fe=V();function me(e,t){let r=e||{},s=r.data||{};return Object.keys(r).forEach(a=>{["timeout","headers","queryParameters","data","cacheable"].indexOf(a)===-1&&(s[a]=r[a])}),{data:Object.entries(s).length>0?s:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var $={Read:1,Write:2,Any:3},B={Up:1,Down:2,Timeouted:3},Ke=2*60*1e3;function ge(e,t=B.Up){return E(p({},e),{status:t,lastUpdate:Date.now()})}function He(e){return e.status===B.Up||Date.now()-e.lastUpdate>Ke}function Ve(e){return e.status===B.Timeouted&&Date.now()-e.lastUpdate<=Ke}function ve(e){return typeof e=="string"?{protocol:"https",url:e,accept:$.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||$.Any}}function Er(e,t){return Promise.all(t.map(r=>e.get(r,()=>Promise.resolve(ge(r))))).then(r=>{let s=r.filter(u=>He(u)),a=r.filter(u=>Ve(u)),n=[...s,...a],i=n.length>0?n.map(u=>ve(u)):t;return{getTimeout(u,g){return(a.length===0&&u===0?1:a.length+3+u)*g},statelessHosts:i}})}var Sr=({isTimedOut:e,status:t})=>!e&&~~t===0,Ar=e=>{let t=e.status;return e.isTimedOut||Sr(e)||~~(t/100)!==2&&~~(t/100)!==4},Ir=({status:e})=>~~(e/100)===2,Dr=(e,t)=>Ar(e)?t.onRetry(e):Ir(e)?t.onSuccess(e):t.onFail(e);function ze(e,t,r,s){let a=[],n=Ye(r,s),i=Ze(e,s),u=r.method,g=r.method!==Fe.MethodEnum.Get?{}:p(p({},r.data),s.data),S=p(p(p({"x-algolia-agent":e.userAgent.value},e.queryParameters),g),s.queryParameters),v=0,d=(y,b)=>{let h=y.pop();if(h===void 0)throw rt(he(a));let P={data:n,headers:i,method:u,url:Je(h,r.path,S),connectTimeout:b(v,e.timeouts.connect),responseTimeout:b(v,s.timeout)},O=f=>{let R={request:P,response:f,host:h,triesLeft:y.length};return a.push(R),R},A={onSuccess:f=>$e(f),onRetry(f){let R=O(f);return f.isTimedOut&&v++,Promise.all([e.logger.info("Retryable failure",be(R)),e.hostsCache.set(h,ge(h,f.isTimedOut?B.Timeouted:B.Down))]).then(()=>d(y,b))},onFail(f){throw O(f),Qe(f,he(a))}};return e.requester.send(P).then(f=>Dr(f,A))};return Er(e.hostsCache,t).then(y=>d([...y.statelessHosts].reverse(),y.getTimeout))}function Or(e){let{hostsCache:t,logger:r,requester:s,requestsCache:a,responsesCache:n,timeouts:i,userAgent:u,hosts:g,queryParameters:S,headers:v}=e,d={hostsCache:t,logger:r,requester:s,requestsCache:a,responsesCache:n,timeouts:i,userAgent:u,headers:v,queryParameters:S,hosts:g.map(y=>ve(y)),read(y,b){let h=me(b,d.timeouts.read),P=()=>ze(d,d.hosts.filter(f=>(f.accept&$.Read)!==0),y,h);if((h.cacheable!==void 0?h.cacheable:y.cacheable)!==!0)return P();let A={request:y,mappedRequestOptions:h,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(A,()=>d.requestsCache.get(A,()=>d.requestsCache.set(A,P()).then(f=>Promise.all([d.requestsCache.delete(A),f]),f=>Promise.all([d.requestsCache.delete(A),Promise.reject(f)])).then(([f,R])=>R)),{miss:f=>d.responsesCache.set(A,f)})},write(y,b){return ze(d,d.hosts.filter(h=>(h.accept&$.Write)!==0),y,me(b,d.timeouts.write))}};return d}function xr(e){let t={value:`Algolia for JavaScript (${e})`,add(r){let s=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return t.value.indexOf(s)===-1&&(t.value=`${t.value}${s}`),t}};return t}function $e(e){try{return JSON.parse(e.content)}catch(t){throw tt(t.message,e)}}function Qe({content:e,status:t},r){let s=e;try{s=JSON.parse(e).message}catch{}return et(s,t,r)}function jr(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}function Je(e,t,r){let s=Xe(r),a=`${e.protocol}://${e.url}/${t.charAt(0)==="/"?t.substr(1):t}`;return s.length&&(a+=`?${s}`),a}function Xe(e){let t=r=>Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]";return Object.keys(e).map(r=>jr("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])).join("&")}function Ye(e,t){if(e.method===Fe.MethodEnum.Get||e.data===void 0&&t.data===void 0)return;let r=Array.isArray(e.data)?e.data:p(p({},e.data),t.data);return JSON.stringify(r)}function Ze(e,t){let r=p(p({},e.headers),t.headers),s={};return Object.keys(r).forEach(a=>{let n=r[a];s[a.toLowerCase()]=n}),s}function he(e){return e.map(t=>be(t))}function be(e){let t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return E(p({},e),{request:E(p({},e.request),{headers:p(p({},e.request.headers),t)})})}function et(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}function tt(e,t){return{name:"DeserializationError",message:e,response:t}}function rt(e){return{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:e}}D.CallEnum=$;D.HostStatusEnum=B;D.createApiError=et;D.createDeserializationError=tt;D.createMappedRequestOptions=me;D.createRetryError=rt;D.createStatefulHost=ge;D.createStatelessHost=ve;D.createTransporter=Or;D.createUserAgent=xr;D.deserializeFailure=Qe;D.deserializeSuccess=$e;D.isStatefulHostTimeouted=Ve;D.isStatefulHostUp=He;D.serializeData=Ye;D.serializeHeaders=Ze;D.serializeQueryParameters=Xe;D.serializeUrl=Je;D.stackFrameWithoutCredentials=be;D.stackTraceWithoutCredentials=he});var Q=I((Ia,at)=>{at.exports=st()});var it=I(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});var W=H(),wr=Q(),J=V(),Tr=e=>{let t=e.region||"us",r=W.createAuth(W.AuthMode.WithinHeaders,e.appId,e.apiKey),s=wr.createTransporter(E(p({hosts:[{url:`analytics.${t}.algolia.com`}]},e),{headers:p(E(p({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:p(p({},r.queryParameters()),e.queryParameters)})),a=e.appId;return W.addMethods({appId:a,transporter:s},e.methods)},Rr=e=>(t,r)=>e.transporter.write({method:J.MethodEnum.Post,path:"2/abtests",data:t},r),Mr=e=>(t,r)=>e.transporter.write({method:J.MethodEnum.Delete,path:W.encode("2/abtests/%s",t)},r),qr=e=>(t,r)=>e.transporter.read({method:J.MethodEnum.Get,path:W.encode("2/abtests/%s",t)},r),Ur=e=>t=>e.transporter.read({method:J.MethodEnum.Get,path:"2/abtests"},t),Cr=e=>(t,r)=>e.transporter.write({method:J.MethodEnum.Post,path:W.encode("2/abtests/%s/stop",t)},r);C.addABTest=Rr;C.createAnalyticsClient=Tr;C.deleteABTest=Mr;C.getABTest=qr;C.getABTests=Ur;C.stopABTest=Cr});var ot=I((Oa,nt)=>{nt.exports=it()});var lt=I(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});var ye=H(),kr=Q(),ct=V(),Nr=e=>{let t=e.region||"us",r=ye.createAuth(ye.AuthMode.WithinHeaders,e.appId,e.apiKey),s=kr.createTransporter(E(p({hosts:[{url:`personalization.${t}.algolia.com`}]},e),{headers:p(E(p({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:p(p({},r.queryParameters()),e.queryParameters)}));return ye.addMethods({appId:e.appId,transporter:s},e.methods)},_r=e=>t=>e.transporter.read({method:ct.MethodEnum.Get,path:"1/strategies/personalization"},t),Br=e=>(t,r)=>e.transporter.write({method:ct.MethodEnum.Post,path:"1/strategies/personalization",data:t},r);X.createPersonalizationClient=Nr;X.getPersonalizationStrategy=_r;X.setPersonalizationStrategy=Br});var pt=I((ja,ut)=>{ut.exports=lt()});var Dt=I(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=H(),T=Q(),m=V(),Wr=require("crypto");function re(e){let t=r=>e.request(r).then(s=>{if(e.batch!==void 0&&e.batch(s.hits),!e.shouldStop(s))return s.cursor?t({cursor:s.cursor}):t({page:(r.page||0)+1})});return t({})}var Lr=e=>{let t=e.appId,r=l.createAuth(e.authMode!==void 0?e.authMode:l.AuthMode.WithinHeaders,t,e.apiKey),s=T.createTransporter(E(p({hosts:[{url:`${t}-dsn.algolia.net`,accept:T.CallEnum.Read},{url:`${t}.algolia.net`,accept:T.CallEnum.Write}].concat(l.shuffle([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}]))},e),{headers:p(E(p({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:p(p({},r.queryParameters()),e.queryParameters)})),a={transporter:s,appId:t,addAlgoliaAgent(n,i){s.userAgent.add({segment:n,version:i})},clearCache(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then(()=>{})}};return l.addMethods(a,e.methods)};function dt(){return{name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}}function mt(){return{name:"ObjectNotFoundError",message:"Object not found."}}function ht(){return{name:"ValidUntilNotFoundError",message:"ValidUntil not found in given secured api key."}}var Gr=e=>(t,r)=>{let u=r||{},{queryParameters:s}=u,a=w(u,["queryParameters"]),n=p({acl:t},s!==void 0?{queryParameters:s}:{}),i=(g,S)=>l.createRetryablePromise(v=>Y(e)(g.key,S).catch(d=>{if(d.status!==404)throw d;return v()}));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:"1/keys",data:n},a),i)},zr=e=>(t,r,s)=>{let a=T.createMappedRequestOptions(s);return a.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:m.MethodEnum.Post,path:"1/clusters/mapping",data:{cluster:r}},a)},Fr=e=>(t,r,s)=>e.transporter.write({method:m.MethodEnum.Post,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},s),Kr=e=>(t,r)=>l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(s,a)=>L(e)(s.taskID,a)),se=e=>(t,r,s)=>{let a=(n,i)=>Z(e)(t,{methods:{waitTask:x}}).waitTask(n.taskID,i);return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},s),a)},Hr=e=>(t,r,s)=>se(e)(t,r,E(p({},s),{scope:[ie.Rules]})),Vr=e=>(t,r,s)=>se(e)(t,r,E(p({},s),{scope:[ie.Settings]})),$r=e=>(t,r,s)=>se(e)(t,r,E(p({},s),{scope:[ie.Synonyms]})),Qr=e=>(t,r)=>t.method===m.MethodEnum.Get?e.transporter.read(t,r):e.transporter.write(t,r),Jr=e=>(t,r)=>{let s=(a,n)=>l.createRetryablePromise(i=>Y(e)(t,n).then(i).catch(u=>{if(u.status!==404)throw u}));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Delete,path:l.encode("1/keys/%s",t)},r),s)},Xr=e=>(t,r,s)=>{let a=r.map(n=>({action:"deleteEntry",body:{objectID:n}}));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:a}},s),(n,i)=>L(e)(n.taskID,i))},Yr=()=>(e,t)=>{let r=T.serializeQueryParameters(t),s=Wr.createHmac("sha256",e).update(r).digest("hex");return Buffer.from(s+r).toString("base64")},Y=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/keys/%s",t)},r),gt=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/task/%s",t.toString())},r),Zr=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"/1/dictionaries/*/settings"},t),es=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"1/logs"},t),ts=()=>e=>{let t=Buffer.from(e,"base64").toString("ascii"),r=/validUntil=(\d+)/,s=t.match(r);if(s===null)throw ht();return parseInt(s[1],10)-Math.round(new Date().getTime()/1e3)},rs=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"1/clusters/mapping/top"},t),ss=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/clusters/mapping/%s",t)},r),as=e=>t=>{let a=t||{},{retrieveMappings:r}=a,s=w(a,["retrieveMappings"]);return r===!0&&(s.getClusters=!0),e.transporter.read({method:m.MethodEnum.Get,path:"1/clusters/mapping/pending"},s)},Z=e=>(t,r={})=>{let s={transporter:e.transporter,appId:e.appId,indexName:t};return l.addMethods(s,r.methods)},is=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"1/keys"},t),ns=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"1/clusters"},t),os=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"1/indexes"},t),cs=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:"1/clusters/mapping"},t),ls=e=>(t,r,s)=>{let a=(n,i)=>Z(e)(t,{methods:{waitTask:x}}).waitTask(n.taskID,i);return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},s),a)},us=e=>(t,r)=>{let s=(a,n)=>Promise.all(Object.keys(a.taskID).map(i=>Z(e)(i,{methods:{waitTask:x}}).waitTask(a.taskID[i],n)));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:"1/indexes/*/batch",data:{requests:t}},r),s)},ps=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:t}},r),ds=e=>(t,r)=>{let s=t.map(a=>E(p({},a),{params:T.serializeQueryParameters(a.params||{})}));return e.transporter.read({method:m.MethodEnum.Post,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},r)},ms=e=>(t,r)=>Promise.all(t.map(s=>{let u=s.params,{facetName:a,facetQuery:n}=u,i=w(u,["facetName","facetQuery"]);return Z(e)(s.indexName,{methods:{searchForFacetValues:St}}).searchForFacetValues(a,n,p(p({},r),i))})),hs=e=>(t,r)=>{let s=T.createMappedRequestOptions(r);return s.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:m.MethodEnum.Delete,path:"1/clusters/mapping"},s)},gs=e=>(t,r,s)=>{let a=r.map(n=>({action:"addEntry",body:n}));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:a}},s),(n,i)=>L(e)(n.taskID,i))},vs=e=>(t,r)=>{let s=(a,n)=>l.createRetryablePromise(i=>Y(e)(t,n).catch(u=>{if(u.status!==404)throw u;return i()}));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/keys/%s/restore",t)},r),s)},bs=e=>(t,r,s)=>{let a=r.map(n=>({action:"addEntry",body:n}));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:a}},s),(n,i)=>L(e)(n.taskID,i))},ys=e=>(t,r,s)=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("/1/dictionaries/%s/search",t),data:{query:r},cacheable:!0},s),fs=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Post,path:"1/clusters/mapping/search",data:{query:t}},r),Ps=e=>(t,r)=>l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Put,path:"/1/dictionaries/*/settings",data:t},r),(s,a)=>L(e)(s.taskID,a)),Es=e=>(t,r)=>{let s=Object.assign({},r),v=r||{},{queryParameters:a}=v,n=w(v,["queryParameters"]),i=a?{queryParameters:a}:{},u=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"],g=d=>Object.keys(s).filter(y=>u.indexOf(y)!==-1).every(y=>d[y]===s[y]),S=(d,y)=>l.createRetryablePromise(b=>Y(e)(t,y).then(h=>g(h)?Promise.resolve():b()));return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Put,path:l.encode("1/keys/%s",t),data:i},n),S)},L=e=>(t,r)=>l.createRetryablePromise(s=>gt(e)(t,r).then(a=>a.status!=="published"?s():void 0)),vt=e=>(t,r)=>{let s=(a,n)=>x(e)(a.taskID,n);return l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),s)},Ss=e=>t=>re(E(p({shouldStop:r=>r.cursor===void 0},t),{request:r=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/browse",e.indexName),data:r},t)})),As=e=>t=>{let r=p({hitsPerPage:1e3},t);return re(E(p({shouldStop:s=>s.hits.length<r.hitsPerPage},r),{request(s){return At(e)("",p(p({},r),s)).then(a=>E(p({},a),{hits:a.hits.map(n=>(delete n._highlightResult,n))}))}}))},Is=e=>t=>{let r=p({hitsPerPage:1e3},t);return re(E(p({shouldStop:s=>s.hits.length<r.hitsPerPage},r),{request(s){return It(e)("",p(p({},r),s)).then(a=>E(p({},a),{hits:a.hits.map(n=>(delete n._highlightResult,n))}))}}))},ae=e=>(t,r,s)=>{let g=s||{},{batchSize:a}=g,n=w(g,["batchSize"]),i={taskIDs:[],objectIDs:[]},u=(S=0)=>{let v=[],d;for(d=S;d<t.length&&(v.push(t[d]),v.length!==(a||1e3));d++);return v.length===0?Promise.resolve(i):vt(e)(v.map(y=>({action:r,body:y})),n).then(y=>(i.objectIDs=i.objectIDs.concat(y.objectIDs),i.taskIDs.push(y.taskID),d++,u(d)))};return l.createWaitablePromise(u(),(S,v)=>Promise.all(S.taskIDs.map(d=>x(e)(d,v))))},Ds=e=>t=>l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/clear",e.indexName)},t),(r,s)=>x(e)(r.taskID,s)),Os=e=>t=>{let n=t||{},{forwardToReplicas:r}=n,s=w(n,["forwardToReplicas"]),a=T.createMappedRequestOptions(s);return r&&(a.queryParameters.forwardToReplicas=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/rules/clear",e.indexName)},a),(i,u)=>x(e)(i.taskID,u))},xs=e=>t=>{let n=t||{},{forwardToReplicas:r}=n,s=w(n,["forwardToReplicas"]),a=T.createMappedRequestOptions(s);return r&&(a.queryParameters.forwardToReplicas=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/synonyms/clear",e.indexName)},a),(i,u)=>x(e)(i.taskID,u))},js=e=>(t,r)=>l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(s,a)=>x(e)(s.taskID,a)),ws=e=>t=>l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Delete,path:l.encode("1/indexes/%s",e.indexName)},t),(r,s)=>x(e)(r.taskID,s)),Ts=e=>(t,r)=>l.createWaitablePromise(bt(e)([t],r).then(s=>({taskID:s.taskIDs[0]})),(s,a)=>x(e)(s.taskID,a)),bt=e=>(t,r)=>{let s=t.map(a=>({objectID:a}));return ae(e)(s,N.DeleteObject,r)},Rs=e=>(t,r)=>{let i=r||{},{forwardToReplicas:s}=i,a=w(i,["forwardToReplicas"]),n=T.createMappedRequestOptions(a);return s&&(n.queryParameters.forwardToReplicas=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Delete,path:l.encode("1/indexes/%s/rules/%s",e.indexName,t)},n),(u,g)=>x(e)(u.taskID,g))},Ms=e=>(t,r)=>{let i=r||{},{forwardToReplicas:s}=i,a=w(i,["forwardToReplicas"]),n=T.createMappedRequestOptions(a);return s&&(n.queryParameters.forwardToReplicas=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Delete,path:l.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},n),(u,g)=>x(e)(u.taskID,g))},qs=e=>t=>yt(e)(t).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),Us=e=>(t,r,s)=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},s),Cs=e=>(t,r)=>{let g=r||{},{query:s,paginate:a}=g,n=w(g,["query","paginate"]),i=0,u=()=>Et(e)(s||"",E(p({},n),{page:i})).then(S=>{for(let[v,d]of Object.entries(S.hits))if(t(d))return{object:d,position:parseInt(v,10),page:i};if(i++,a===!1||i>=S.nbPages)throw mt();return u()});return u()},ks=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/indexes/%s/%s",e.indexName,t)},r),Ns=()=>(e,t)=>{for(let[r,s]of Object.entries(e.hits))if(s.objectID===t)return parseInt(r,10);return-1},_s=e=>(t,r)=>{let i=r||{},{attributesToRetrieve:s}=i,a=w(i,["attributesToRetrieve"]),n=t.map(u=>p({indexName:e.indexName,objectID:u},s?{attributesToRetrieve:s}:{}));return e.transporter.read({method:m.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:n}},a)},Bs=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/indexes/%s/rules/%s",e.indexName,t)},r),yt=e=>t=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t),Ws=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},r),ft=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Get,path:l.encode("1/indexes/%s/task/%s",e.indexName,t.toString())},r),Ls=e=>(t,r)=>l.createWaitablePromise(Pt(e)([t],r).then(s=>({objectID:s.objectIDs[0],taskID:s.taskIDs[0]})),(s,a)=>x(e)(s.taskID,a)),Pt=e=>(t,r)=>{let i=r||{},{createIfNotExists:s}=i,a=w(i,["createIfNotExists"]),n=s?N.PartialUpdateObject:N.PartialUpdateObjectNoCreate;return ae(e)(t,n,a)},Gs=e=>(t,r)=>{let h=r||{},{safe:s,autoGenerateObjectIDIfNotExist:a,batchSize:n}=h,i=w(h,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),u=(P,O,A,f)=>l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/operation",P),data:{operation:A,destination:O}},f),(R,U)=>x(e)(R.taskID,U)),g=Math.random().toString(36).substring(7),S=`${e.indexName}_tmp_${g}`,v=fe({appId:e.appId,transporter:e.transporter,indexName:S}),d=[],y=u(e.indexName,S,"copy",E(p({},i),{scope:["settings","synonyms","rules"]}));d.push(y);let b=(s?y.wait(i):y).then(()=>{let P=v(t,E(p({},i),{autoGenerateObjectIDIfNotExist:a,batchSize:n}));return d.push(P),s?P.wait(i):P}).then(()=>{let P=u(S,e.indexName,"move",i);return d.push(P),s?P.wait(i):P}).then(()=>Promise.all(d)).then(([P,O,A])=>({objectIDs:O.objectIDs,taskIDs:[P.taskID,...O.taskIDs,A.taskID]}));return l.createWaitablePromise(b,(P,O)=>Promise.all(d.map(A=>A.wait(O))))},zs=e=>(t,r)=>Pe(e)(t,E(p({},r),{clearExistingRules:!0})),Fs=e=>(t,r)=>Ee(e)(t,E(p({},r),{clearExistingSynonyms:!0})),Ks=e=>(t,r)=>l.createWaitablePromise(fe(e)([t],r).then(s=>({objectID:s.objectIDs[0],taskID:s.taskIDs[0]})),(s,a)=>x(e)(s.taskID,a)),fe=e=>(t,r)=>{let i=r||{},{autoGenerateObjectIDIfNotExist:s}=i,a=w(i,["autoGenerateObjectIDIfNotExist"]),n=s?N.AddObject:N.UpdateObject;if(n===N.UpdateObject){for(let u of t)if(u.objectID===void 0)return l.createWaitablePromise(Promise.reject(dt()))}return ae(e)(t,n,a)},Hs=e=>(t,r)=>Pe(e)([t],r),Pe=e=>(t,r)=>{let u=r||{},{forwardToReplicas:s,clearExistingRules:a}=u,n=w(u,["forwardToReplicas","clearExistingRules"]),i=T.createMappedRequestOptions(n);return s&&(i.queryParameters.forwardToReplicas=1),a&&(i.queryParameters.clearExistingRules=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/rules/batch",e.indexName),data:t},i),(g,S)=>x(e)(g.taskID,S))},Vs=e=>(t,r)=>Ee(e)([t],r),Ee=e=>(t,r)=>{let g=r||{},{forwardToReplicas:s,clearExistingSynonyms:a,replaceExistingSynonyms:n}=g,i=w(g,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]),u=T.createMappedRequestOptions(i);return s&&(u.queryParameters.forwardToReplicas=1),(n||a)&&(u.queryParameters.replaceExistingSynonyms=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/synonyms/batch",e.indexName),data:t},u),(S,v)=>x(e)(S.taskID,v))},Et=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r),St=e=>(t,r,s)=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},s),At=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r),It=e=>(t,r)=>e.transporter.read({method:m.MethodEnum.Post,path:l.encode("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r),$s=e=>(t,r)=>{let i=r||{},{forwardToReplicas:s}=i,a=w(i,["forwardToReplicas"]),n=T.createMappedRequestOptions(a);return s&&(n.queryParameters.forwardToReplicas=1),l.createWaitablePromise(e.transporter.write({method:m.MethodEnum.Put,path:l.encode("1/indexes/%s/settings",e.indexName),data:t},n),(u,g)=>x(e)(u.taskID,g))},x=e=>(t,r)=>l.createRetryablePromise(s=>ft(e)(t,r).then(a=>a.status!=="published"?s():void 0)),Qs={AddObject:"addObject",Analytics:"analytics",Browser:"browse",DeleteIndex:"deleteIndex",DeleteObject:"deleteObject",EditSettings:"editSettings",ListIndexes:"listIndexes",Logs:"logs",Personalization:"personalization",Recommendation:"recommendation",Search:"search",SeeUnretrievableAttributes:"seeUnretrievableAttributes",Settings:"settings",Usage:"usage"},N={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ie={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Js={None:"none",StopIfEnoughMatches:"stopIfEnoughMatches"},Xs={Synonym:"synonym",OneWaySynonym:"oneWaySynonym",AltCorrection1:"altCorrection1",AltCorrection2:"altCorrection2",Placeholder:"placeholder"};o.ApiKeyACLEnum=Qs;o.BatchActionEnum=N;o.ScopeEnum=ie;o.StrategyEnum=Js;o.SynonymEnum=Xs;o.addApiKey=Gr;o.assignUserID=zr;o.assignUserIDs=Fr;o.batch=vt;o.browseObjects=Ss;o.browseRules=As;o.browseSynonyms=Is;o.chunkedBatch=ae;o.clearDictionaryEntries=Kr;o.clearObjects=Ds;o.clearRules=Os;o.clearSynonyms=xs;o.copyIndex=se;o.copyRules=Hr;o.copySettings=Vr;o.copySynonyms=$r;o.createBrowsablePromise=re;o.createMissingObjectIDError=dt;o.createObjectNotFoundError=mt;o.createSearchClient=Lr;o.createValidUntilNotFoundError=ht;o.customRequest=Qr;o.deleteApiKey=Jr;o.deleteBy=js;o.deleteDictionaryEntries=Xr;o.deleteIndex=ws;o.deleteObject=Ts;o.deleteObjects=bt;o.deleteRule=Rs;o.deleteSynonym=Ms;o.exists=qs;o.findAnswers=Us;o.findObject=Cs;o.generateSecuredApiKey=Yr;o.getApiKey=Y;o.getAppTask=gt;o.getDictionarySettings=Zr;o.getLogs=es;o.getObject=ks;o.getObjectPosition=Ns;o.getObjects=_s;o.getRule=Bs;o.getSecuredApiKeyRemainingValidity=ts;o.getSettings=yt;o.getSynonym=Ws;o.getTask=ft;o.getTopUserIDs=rs;o.getUserID=ss;o.hasPendingMappings=as;o.initIndex=Z;o.listApiKeys=is;o.listClusters=ns;o.listIndices=os;o.listUserIDs=cs;o.moveIndex=ls;o.multipleBatch=us;o.multipleGetObjects=ps;o.multipleQueries=ds;o.multipleSearchForFacetValues=ms;o.partialUpdateObject=Ls;o.partialUpdateObjects=Pt;o.removeUserID=hs;o.replaceAllObjects=Gs;o.replaceAllRules=zs;o.replaceAllSynonyms=Fs;o.replaceDictionaryEntries=gs;o.restoreApiKey=vs;o.saveDictionaryEntries=bs;o.saveObject=Ks;o.saveObjects=fe;o.saveRule=Hs;o.saveRules=Pe;o.saveSynonym=Vs;o.saveSynonyms=Ee;o.search=Et;o.searchDictionaryEntries=ys;o.searchForFacetValues=St;o.searchRules=At;o.searchSynonyms=It;o.searchUserIDs=fs;o.setDictionarySettings=Ps;o.setSettings=$s;o.updateApiKey=Es;o.waitAppTask=L;o.waitTask=x});var xt=I((Ta,Ot)=>{Ot.exports=Dt()});var jt=I(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});function Ys(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var Zs={Debug:1,Info:2,Error:3};ne.LogLevelEnum=Zs;ne.createNullLogger=Ys});var Tt=I((Ma,wt)=>{wt.exports=jt()});var Ut=I(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var Rt=require("http"),Mt=require("https"),ea=require("url"),qt={keepAlive:!0},ta=new Rt.Agent(qt),ra=new Mt.Agent(qt);function sa({agent:e,httpAgent:t,httpsAgent:r,requesterOptions:s={}}={}){let a=t||e||ta,n=r||e||ra;return{send(i){return new Promise(u=>{let g=ea.parse(i.url),S=g.query===null?g.pathname:`${g.pathname}?${g.query}`,v=p(E(p({},s),{agent:g.protocol==="https:"?n:a,hostname:g.hostname,path:S,method:i.method,headers:p(p({},s&&s.headers?s.headers:{}),i.headers)}),g.port!==void 0?{port:g.port||""}:{}),d=(g.protocol==="https:"?Mt:Rt).request(v,P=>{let O=[];P.on("data",A=>{O=O.concat(A)}),P.on("end",()=>{clearTimeout(b),clearTimeout(h),u({status:P.statusCode||0,content:Buffer.concat(O).toString(),isTimedOut:!1})})}),y=(P,O)=>setTimeout(()=>{d.abort(),u({status:0,content:O,isTimedOut:!0})},P*1e3),b=y(i.connectTimeout,"Connection timeout"),h;d.on("error",P=>{clearTimeout(b),clearTimeout(h),u({status:0,content:P.message,isTimedOut:!1})}),d.once("response",()=>{clearTimeout(b),h=y(i.responseTimeout,"Socket timeout")}),i.data!==void 0&&d.write(i.data),d.end()})},destroy(){return a.destroy(),n.destroy(),Promise.resolve()}}}Se.createNodeHttpRequester=sa});var kt=I((Ua,Ct)=>{Ct.exports=Ut()});var Wt=I((Ca,Bt)=>{"use strict";var Nt=Ue(),aa=Ne(),G=ot(),Ie=H(),Ae=pt(),c=xt(),ia=Tt(),na=kt(),oa=Q();function _t(e,t,r){let s={appId:e,apiKey:t,timeouts:{connect:2,read:5,write:30},requester:na.createNodeHttpRequester(),logger:ia.createNullLogger(),responsesCache:Nt.createNullCache(),requestsCache:Nt.createNullCache(),hostsCache:aa.createInMemoryCache(),userAgent:oa.createUserAgent(Ie.version).add({segment:"Node.js",version:process.versions.node})},a=p(p({},s),r),n=()=>i=>Ae.createPersonalizationClient(E(p(p({},s),i),{methods:{getPersonalizationStrategy:Ae.getPersonalizationStrategy,setPersonalizationStrategy:Ae.setPersonalizationStrategy}}));return c.createSearchClient(E(p({},a),{methods:{search:c.multipleQueries,searchForFacetValues:c.multipleSearchForFacetValues,multipleBatch:c.multipleBatch,multipleGetObjects:c.multipleGetObjects,multipleQueries:c.multipleQueries,copyIndex:c.copyIndex,copySettings:c.copySettings,copyRules:c.copyRules,copySynonyms:c.copySynonyms,moveIndex:c.moveIndex,listIndices:c.listIndices,getLogs:c.getLogs,listClusters:c.listClusters,multipleSearchForFacetValues:c.multipleSearchForFacetValues,getApiKey:c.getApiKey,addApiKey:c.addApiKey,listApiKeys:c.listApiKeys,updateApiKey:c.updateApiKey,deleteApiKey:c.deleteApiKey,restoreApiKey:c.restoreApiKey,assignUserID:c.assignUserID,assignUserIDs:c.assignUserIDs,getUserID:c.getUserID,searchUserIDs:c.searchUserIDs,listUserIDs:c.listUserIDs,getTopUserIDs:c.getTopUserIDs,removeUserID:c.removeUserID,hasPendingMappings:c.hasPendingMappings,generateSecuredApiKey:c.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:c.getSecuredApiKeyRemainingValidity,destroy:Ie.destroy,clearDictionaryEntries:c.clearDictionaryEntries,deleteDictionaryEntries:c.deleteDictionaryEntries,getDictionarySettings:c.getDictionarySettings,getAppTask:c.getAppTask,replaceDictionaryEntries:c.replaceDictionaryEntries,saveDictionaryEntries:c.saveDictionaryEntries,searchDictionaryEntries:c.searchDictionaryEntries,setDictionarySettings:c.setDictionarySettings,waitAppTask:c.waitAppTask,customRequest:c.customRequest,initIndex:i=>u=>c.initIndex(i)(u,{methods:{batch:c.batch,delete:c.deleteIndex,findAnswers:c.findAnswers,getObject:c.getObject,getObjects:c.getObjects,saveObject:c.saveObject,saveObjects:c.saveObjects,search:c.search,searchForFacetValues:c.searchForFacetValues,waitTask:c.waitTask,setSettings:c.setSettings,getSettings:c.getSettings,partialUpdateObject:c.partialUpdateObject,partialUpdateObjects:c.partialUpdateObjects,deleteObject:c.deleteObject,deleteObjects:c.deleteObjects,deleteBy:c.deleteBy,clearObjects:c.clearObjects,browseObjects:c.browseObjects,getObjectPosition:c.getObjectPosition,findObject:c.findObject,exists:c.exists,saveSynonym:c.saveSynonym,saveSynonyms:c.saveSynonyms,getSynonym:c.getSynonym,searchSynonyms:c.searchSynonyms,browseSynonyms:c.browseSynonyms,deleteSynonym:c.deleteSynonym,clearSynonyms:c.clearSynonyms,replaceAllObjects:c.replaceAllObjects,replaceAllSynonyms:c.replaceAllSynonyms,searchRules:c.searchRules,getRule:c.getRule,deleteRule:c.deleteRule,saveRule:c.saveRule,saveRules:c.saveRules,replaceAllRules:c.replaceAllRules,browseRules:c.browseRules,clearRules:c.clearRules}}),initAnalytics:()=>i=>G.createAnalyticsClient(E(p(p({},s),i),{methods:{addABTest:G.addABTest,getABTest:G.getABTest,getABTests:G.getABTests,stopABTest:G.stopABTest,deleteABTest:G.deleteABTest}})),initPersonalization:n,initRecommendation:()=>i=>(a.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),n()(i))}}))}_t.version=Ie.version;Bt.exports=_t});var Gt=I((ka,De)=>{var Lt=Wt();De.exports=Lt;De.exports.default=Lt});var Ft=I((Na,zt)=>{zt.exports=Gt()});var Ht=I((Kt,oe)=>{"use strict";(function(e){if(typeof t!="function"){var t=function(b){return b};t.nonNative=!0}let r=t("plaintext"),s=t("html"),a=t("comment"),n=/<(\w*)>/g,i=/<\/?([^\s\/>]+)/;function u(b,h,P){b=b||"",h=h||[],P=P||"";let O=S(h,P);return v(b,O)}function g(b,h){b=b||[],h=h||"";let P=S(b,h);return function(A){return v(A||"",P)}}u.init_streaming_mode=g;function S(b,h){return b=d(b),{allowable_tags:b,tag_replacement:h,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function v(b,h){if(typeof b!="string")throw new TypeError("'html' parameter must be a string");let P=h.allowable_tags,O=h.tag_replacement,A=h.state,f=h.tag_buffer,R=h.depth,U=h.in_quote_char,z="";for(let ce=0,sr=b.length;ce<sr;ce++){let M=b[ce];if(A===r)switch(M){case"<":A=s,f+=M;break;default:z+=M;break}else if(A===s)switch(M){case"<":if(U)break;R++;break;case">":if(U)break;if(R){R--;break}U="",A=r,f+=">",P.has(y(f))?z+=f:z+=O,f="";break;case'"':case"'":M===U?U="":U=U||M,f+=M;break;case"-":f==="<!-"&&(A=a),f+=M;break;case" ":case`
`:if(f==="<"){A=r,z+="< ",f="";break}f+=M;break;default:f+=M;break}else if(A===a)switch(M){case">":f.slice(-2)=="--"&&(A=r),f="";break;default:f+=M;break}}return h.state=A,h.tag_buffer=f,h.depth=R,h.in_quote_char=U,z}function d(b){let h=new Set;if(typeof b=="string"){let P;for(;P=n.exec(b);)h.add(P[1])}else!t.nonNative&&typeof b[t.iterator]=="function"?h=new Set(b):typeof b.forEach=="function"&&b.forEach(h.add,h);return h}function y(b){let h=i.exec(b);return h?h[1].toLowerCase():null}typeof define=="function"&&define.amd?define(function(){return u}):typeof oe=="object"&&oe.exports?oe.exports=u:e.striptags=u})(Kt)});var Xt=I((Wa,ca)=>{ca.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-permission/v2/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-permission/v2/support-us"},{title:"Prerequisites",url:"https://spatie.be/docs/laravel-permission/v2/prerequisites"},{title:"Installation in Laravel",url:"https://spatie.be/docs/laravel-permission/v2/installation-laravel"},{title:"Installation in Lumen",url:"https://spatie.be/docs/laravel-permission/v2/installation-lumen"},{title:"Upgrading",url:"https://spatie.be/docs/laravel-permission/v2/upgrading"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-permission/v2/questions-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-permission/v2/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-permission/v2/about-us"}],"BASIC USAGE":[{title:"Basic Usage",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/basic-usage"},{title:"Direct Permissions",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/direct-permissions"},{title:"Using Permissions via Roles",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/role-permissions"},{title:"Blade Directive",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/blade-directives"},{title:"Defining Super-Admin",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/super-admin"},{title:"Using Multiple Guards",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/multiple-guards"},{title:"Using Artisan Commands",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/artisan"},{title:"Using a Middleware",url:"https://spatie.be/docs/laravel-permission/v2/basic-usage/middleware"}],"BEST PRACTICES":[{title:"Roles vs Permissions",url:"https://spatie.be/docs/laravel-permission/v2/best-practices/roles-vs-permissions"},{title:"Using Policies",url:"https://spatie.be/docs/laravel-permission/v2/best-practices/using-policies"}],"ADVANCED USAGE":[{title:"Unit Testing",url:"https://spatie.be/docs/laravel-permission/v2/advanced-usage/unit-testing"},{title:"Database Seeding",url:"https://spatie.be/docs/laravel-permission/v2/advanced-usage/seeding"},{title:"Extending",url:"https://spatie.be/docs/laravel-permission/v2/advanced-usage/extending"},{title:"Cache",url:"https://spatie.be/docs/laravel-permission/v2/advanced-usage/cache"},{title:"Extending PhpStorm",url:"https://spatie.be/docs/laravel-permission/v2/advanced-usage/phpstorm"}]}});var Yt=I((La,la)=>{la.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-permission/v3/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-permission/v3/support-us"},{title:"Prerequisites",url:"https://spatie.be/docs/laravel-permission/v3/prerequisites"},{title:"Installation in Laravel",url:"https://spatie.be/docs/laravel-permission/v3/installation-laravel"},{title:"Installation in Lumen",url:"https://spatie.be/docs/laravel-permission/v3/installation-lumen"},{title:"Upgrading",url:"https://spatie.be/docs/laravel-permission/v3/upgrading"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-permission/v3/questions-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-permission/v3/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-permission/v3/about-us"}],"BASIC USAGE":[{title:"Basic Usage",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/basic-usage"},{title:"Direct Permissions",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/direct-permissions"},{title:"Using Permissions via Roles",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/role-permissions"},{title:"Wildcard Permissions",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/wildcard-permissions"},{title:"Blade Directive",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/blade-directives"},{title:"Defining Super-Admin",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/super-admin"},{title:"Using Multiple Guards",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/multiple-guards"},{title:"Using Artisan Commands",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/artisan"},{title:"Using a Middleware",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/middleware"},{title:"Example App",url:"https://spatie.be/docs/laravel-permission/v3/basic-usage/new-app"}],"BEST PRACTICES":[{title:"Roles vs Permissions",url:"https://spatie.be/docs/laravel-permission/v3/best-practices/roles-vs-permissions"},{title:"Model Policies",url:"https://spatie.be/docs/laravel-permission/v3/best-practices/using-policies"},{title:"Performance Tips",url:"https://spatie.be/docs/laravel-permission/v3/best-practices/performance"}],"ADVANCED USAGE":[{title:"Testing",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/testing"},{title:"Database Seeding",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/seeding"},{title:"Exceptions",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/exceptions"},{title:"Extending",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/extending"},{title:"Cache",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/cache"},{title:"Custom Permission Check",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/custom-permission-check"},{title:"UUID",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/uuid"},{title:"PhpStorm Interaction",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/phpstorm"},{title:"Other",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/other"},{title:"Timestamps",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/timestamps"},{title:"UI Options",url:"https://spatie.be/docs/laravel-permission/v3/advanced-usage/ui-options"}]}});var Zt=I((Ga,ua)=>{ua.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-permission/v4/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-permission/v4/support-us"},{title:"Prerequisites",url:"https://spatie.be/docs/laravel-permission/v4/prerequisites"},{title:"Installation in Laravel",url:"https://spatie.be/docs/laravel-permission/v4/installation-laravel"},{title:"Installation in Lumen",url:"https://spatie.be/docs/laravel-permission/v4/installation-lumen"},{title:"Upgrading",url:"https://spatie.be/docs/laravel-permission/v4/upgrading"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-permission/v4/questions-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-permission/v4/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-permission/v4/about-us"}],"BASIC USAGE":[{title:"Basic Usage",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/basic-usage"},{title:"Direct Permissions",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/direct-permissions"},{title:"Using Permissions via Roles",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/role-permissions"},{title:"Wildcard Permissions",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/wildcard-permissions"},{title:"Blade Directive",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/blade-directives"},{title:"Defining Super-Admin",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/super-admin"},{title:"Using Multiple Guards",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/multiple-guards"},{title:"Using Artisan Commands",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/artisan"},{title:"Using a Middleware",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/middleware"},{title:"Example App",url:"https://spatie.be/docs/laravel-permission/v4/basic-usage/new-app"}],"BEST PRACTICES":[{title:"Roles vs Permissions",url:"https://spatie.be/docs/laravel-permission/v4/best-practices/roles-vs-permissions"},{title:"Model Policies",url:"https://spatie.be/docs/laravel-permission/v4/best-practices/using-policies"},{title:"Performance Tips",url:"https://spatie.be/docs/laravel-permission/v4/best-practices/performance"}],"ADVANCED USAGE":[{title:"Testing",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/testing"},{title:"Database Seeding",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/seeding"},{title:"Exceptions",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/exceptions"},{title:"Extending",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/extending"},{title:"Cache",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/cache"},{title:"Custom Permission Check",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/custom-permission-check"},{title:"UUID",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/uuid"},{title:"PhpStorm Interaction",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/phpstorm"},{title:"Other",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/other"},{title:"Timestamps",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/timestamps"},{title:"UI Options",url:"https://spatie.be/docs/laravel-permission/v4/advanced-usage/ui-options"}]}});var er=I((za,pa)=>{pa.exports={OVERVIEW:[{title:"Introduction",url:"https://spatie.be/docs/laravel-permission/v5/introduction"},{title:"Support Us",url:"https://spatie.be/docs/laravel-permission/v5/support-us"},{title:"Prerequisites",url:"https://spatie.be/docs/laravel-permission/v5/prerequisites"},{title:"Installation in Laravel",url:"https://spatie.be/docs/laravel-permission/v5/installation-laravel"},{title:"Installation in Lumen",url:"https://spatie.be/docs/laravel-permission/v5/installation-lumen"},{title:"Upgrading",url:"https://spatie.be/docs/laravel-permission/v5/upgrading"},{title:"Questions and issues",url:"https://spatie.be/docs/laravel-permission/v5/questions-issues"},{title:"Changelog",url:"https://spatie.be/docs/laravel-permission/v5/changelog"},{title:"About us",url:"https://spatie.be/docs/laravel-permission/v5/about-us"}],"BASIC USAGE":[{title:"Basic Usage",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/basic-usage"},{title:"Direct Permissions",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/direct-permissions"},{title:"Using Permissions via Roles",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/role-permissions"},{title:"Teams Permissions",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/teams-permissions"},{title:"Wildcard Permissions",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/wildcard-permissions"},{title:"Blade Directive",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/blade-directives"},{title:"Defining Super-Admin",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/super-admin"},{title:"Using Multiple Guards",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/multiple-guards"},{title:"Using Artisan Commands",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/artisan"},{title:"Using a Middleware",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/middleware"},{title:"Example App",url:"https://spatie.be/docs/laravel-permission/v5/basic-usage/new-app"}],"BEST PRACTICES":[{title:"Roles vs Permissions",url:"https://spatie.be/docs/laravel-permission/v5/best-practices/roles-vs-permissions"},{title:"Model Policies",url:"https://spatie.be/docs/laravel-permission/v5/best-practices/using-policies"},{title:"Performance Tips",url:"https://spatie.be/docs/laravel-permission/v5/best-practices/performance"}],"ADVANCED USAGE":[{title:"Testing",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/testing"},{title:"Database Seeding",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/seeding"},{title:"Exceptions",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/exceptions"},{title:"Extending",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/extending"},{title:"Cache",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/cache"},{title:"Custom Permission Check",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/custom-permission-check"},{title:"UUID",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/uuid"},{title:"PhpStorm Interaction",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/phpstorm"},{title:"Other",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/other"},{title:"Timestamps",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/timestamps"},{title:"UI Options",url:"https://spatie.be/docs/laravel-permission/v5/advanced-usage/ui-options"}]}});var ma={};ur(ma,{default:()=>rr});var j=require("@raycast/api"),k=require("react"),tr=Te(Ft());var _={app_id:"BH4D9OD16A",api_key:"7a1f56fb06bd42e657e82bdafe86cef3",index:"spatie_be"};var Vt=Te(Ht());function $t(e){return Object.values(e).filter(t=>t).map(t=>t.replace("&amp;","&").replace("# #",""))}function Qt(e){return $t(e.hierarchy).pop()||""}function Jt(e){let t=(0,Vt.default)(e._highlightResult?.content?.value||"");if(t)return t;let r=$t(e.hierarchy)||[];return r.pop(),r.length?`-> ${r.join(" > ")}`:""}var da={v2:Xt(),v3:Yt(),v4:Zt(),v5:er()};function rr(){let e=(0,j.getPreferenceValues)(),t="version:"+e.spatieLaravelPermissionVersion,r=(0,k.useMemo)(()=>(0,tr.default)(_.app_id,_.api_key),[_.app_id,_.api_key]),s=(0,k.useMemo)(()=>r.initIndex(_.index),[r,_.index]),[a,n]=(0,k.useState)(),[i,u]=(0,k.useState)(!1),g=async(v="")=>{if(v!=="")return u(!0),await s.search(v,{hitsPerPage:11,facetFilters:[t,"project:laravel-permission"]}).then(d=>(u(!1),d.hits)).catch(d=>(u(!1),(0,j.showToast)(j.ToastStyle.Failure,"Error searching Spatie Laravel Permission Documentation",d.message),[]))};(0,k.useEffect)(()=>{(async()=>n(await g()))()},[]);let S=da[e.spatieLaravelPermissionVersion];return _jsx(j.List,{throttle:!0,isLoading:i,onSearchTextChange:async v=>n(await g(v))},a?.map(v=>_jsx(j.List.Item,{key:v.objectID,title:Qt(v),subtitle:Jt(v),icon:"spatie-icon.png",actions:_jsx(j.ActionPanel,{title:v.url},_jsx(j.OpenInBrowserAction,{url:v.url}),_jsx(j.CopyToClipboardAction,{content:v.url,title:"Copy URL"}))}))||Object.entries(S).map(([v,d])=>_jsx(j.List.Section,{title:v,key:v},d.map(y=>_jsx(j.List.Item,{key:y.url,title:y.title,icon:"spatie-icon.png",actions:_jsx(j.ActionPanel,{title:y.url},_jsx(j.OpenInBrowserAction,{url:y.url}),_jsx(j.CopyToClipboardAction,{content:y.url,title:"Copy URL"}))})))))}module.exports=pr(ma);0&&(module.exports={});
